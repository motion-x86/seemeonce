{"version":3,"sources":["assets/img/logo.png","assets/img/dual-ring-spinner-0.5s-200px.svg","config/routes.js","util/router.js","components/commonStyle.js","components/Views/HomeView/styles.js","util/file-util.js","redux/actions/imgActions.js","redux/selectors/tacSelectors.js","components/Views/BaseView/styles.js","components/Views/BaseView/index.js","components/Views/BaseView/BaseView.jsx","components/Input/styles.js","components/Input/index.js","components/Input/Input.jsx","redux/actions/tacActions.js","components/Button/styles.js","components/Button/index.js","components/Button/Button.jsx","components/ImgCrop/styles.js","components/ImgCrop/index.js","components/ImgCrop/ImgCrop.jsx","components/Views/HomeView/HomeView.jsx","components/Views/HomeView/index.js","components/Views/OptionsView/styles.js","util/text-util.js","redux/selectors/imgSelectors.js","config/config.dev.js","config/config.js","config/config.prod.js","services/logging-service.js","util/http-util.js","util/browser-util.js","services/codeSerice.js","redux/actions/codeActions.js","components/Views/OptionsView/OptionsView.jsx","components/Views/OptionsView/index.js","components/Views/CodeView/styles.js","util/dom-util.js","redux/selectors/codeSelectors.js","components/Views/CodeView/CodeView.jsx","components/Views/CodeView/index.js","components/Views/CameraView/styles.js","components/Views/CameraView/CameraView.jsx","components/Views/CameraView/index.js","components/Views/ImageView/styles.js","services/imgService.js","redux/actions/viewImgActions.js","redux/selectors/viewImgSelectors.js","components/Views/ImageView/ImageView.jsx","components/Views/ImageView/index.js","components/Views/LoadingView/styles.js","components/Views/LoadingView/index.js","components/Views/LoadingView/LoadingView.jsx","redux/selectors/loadingSelectors.js","components/Views/LoadImage/styles.js","components/Views/LoadImage/index.js","components/Views/LoadImage/LoadImage.jsx","components/Views/TermsAndConitions/styles.js","components/Views/TermsAndConitions/index.js","components/Views/TermsAndConitions/TermsAndConditions.jsx","App.jsx","serviceWorker.js","redux/reducers/imgReducer.js","redux/reducers/tacReducer.js","redux/reducers/codeReducer.js","redux/reducers/viewImgReducer.js","redux/store.js","util/isMobile.js","index.js"],"names":["module","exports","__webpack_require__","p","routes","home","view","options","camera","share","loading","codes","loadImage","tac","withWildCard","route","wildcards","parts","split","length","map","replace","reduce","url","wildcard","result","concat","_history","navigate","path","push","navigateWithLoadScreen","next","theme","flex","display","flexDirection","alignItems","justifyContent","label","padding","color","fontSize","divider","Object","objectSpread","_label","marginBottom","resizeImg","src","maxHeight","arguments","undefined","maxWidth","Promise","resolve","reject","img","document","createElement","onload","canvas","ctx","getContext","imageSmoothingEnabled","imageSmoothingQuality","height","width","drawImage","toDataURL","onerror","error","resizeImgFromFile","file","fr","FileReader","e","target","then","dataUrl","readAsDataURL","rotateImg90DegInPlace","cw","degrees","clearRect","save","translate","rotate","Math","PI","restore","imgUpdate","type","tacSelector","rdxState","tacReducer","visible","container","backgroundColor","minHeight","minWidth","title","fontFamily","marginTop","link","position","bottom","zIndex","a","textDecoration","childContainer","overflowX","BaseView","connect","state","showTac","props","core_browser_esm","css","style","showLogo","logo","alt","children","tacBottom","react_router_dom","to","input","borderRadius","borderColor","textAlign","boxSizing","&::placeholder","&:focus","outline","labelSm","Input","dispatch","rdxTacShow","rdxTacHide","_ref","value","placeholder","size","inputStyle","onChange","onClick","getRef","inputProps","disableTacHidding","assign","onFocus","onBlur","ref","btn","borderStyle","&:active","border","Button","text","flexRow","ImgCrop","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","getCroppedImg","image","pixelCrop","fileName","x","y","onRotate","cropInfo","crop","aspect","_this2","className","ReactCrop_default","keepSelection","setState","onComplete","onImageLoaded","onSave","onCancel","Component","ShareButton","react","components_Button","ViewButton","code","ViewOrSharePrompt","_ref2","showViewBtn","onCodeChange","components_Input","HomeView_ViewButton","HomeView_ShareButton","ShareOptions","_ref3","uploadInput","handleImage","askForImage","accept","hidden","Home","files","imageToCrop","current","click","handleCroppedImage","dataUrlLg","rdxUpdateImg","handleCropCancel","window","location","reload","React","createRef","_this$state","components_ImgCrop","Views_BaseView","react_router","render","HomeView_ShareOptions","exact","HomeView_ViewOrSharePrompt","HomeView","range","margin","formatMinSec","sec","_sec","_min","floor","imgSelector","imgReducer","imgViewDurationSelector","viewDuration","payloadSelector","Img","ViewDuration","apiBaseUrl","config","isDebugMode","useMockData","baseUrlFE","baseUrlBE","api","method","logging_service","exception","console","log","msg","axios","interceptors","response","use","status","logger","http_util","get","post","put","delete","saveToLocalStorage","key","data","localStorage","setItem","JSON","stringify","warning","loadFromLocalStorage","getItem","parse","mockCode","payload","setTimeout","random","appData","getCode","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","http","headers","Content-Type","sent","abrupt","stop","_x","apply","getCodeStart","getCodeComplete","getCodeError","OptionsView","toSeconds","ticks","fromSeconds","handleGetCode","rdxGetCode","_this$props","rdxPhoto","rdxViewDuration","rdxSetViewDuration","name","min","max","step","PureComponent","duration","getState","fetchCode","_x2","copied","fontStyle","time","right","paddingTop","deselect","selection","getSelection","removeAllRanges","empty","codeSelector","codeReducer","CodeView","copyToClipboard","select","execCommand","fontWeight","rdxCode","codeRef","urlRef","rdxClearImg","rdxClearCode","toggle","span","toggleActive","Toggle","mode","FACING_MODES","USER","ENVIRONMENT","CameraView","cameraOn","cameraFacingMode","dataUri","_this3","rdxImg","isMobile","isApple","CameraView_Toggle","build_default","onTakePhoto","onCameraError","idealFacingMode","idealResolution","imageType","IMAGE_TYPES","JPG","imageCompression","isMaxResolution","isImageMirror","isDisplayStartCameraError","sizeFactor","onCameraStop","pathname","bar","screenOverlay","mockGetImg","getImgData","viewTime","imgLoadComplete","isLoading","imgLoadError","errorMsg","imgUpdateCountdown","actionsTypes","actions","t0","elapsedSeconds","viewImgReducer","remainingTime","selectViewImg","progress","initialViewTime","getWidth","innerWidth","documentElement","clientWidth","body","ImageView","timer","windowWidth","_this$props$rdxPayloa","rdxPayload","setInterval","rdxCountDown","clearInterval","elapsedTime","LoadingView","rdxIsLoading","locationState","spinner","LoadImage","rdxFetchImg","match","params","i","maxWith","TermsAndConditions","aria-hidden","App","history","react_default","component","TermsAndConitions","Boolean","hostname","action","newState","codeError","rootReducer","combineReducers","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","check","navigator","userAgent","vendor","opera","test","substr","rootElement","getElementById","indexOf","ReactDOM","es","serviceWorker","ready","registration","unregister"],"mappings":"4EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,qDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,2SC8BzBC,EA9BA,CACbC,KAAM,IACNC,KAAM,QACNC,QAAS,WACTC,OAAQ,UACRC,MAAO,SACPC,QAAS,WACTC,MAAO,SACPC,UAAW,WACXC,IAAK,wBAKLC,aAAc,SAACC,EAAOC,GACpB,IAAMC,EAAQF,EAAMG,MAAM,KAC1B,GAAID,EAAME,OAAS,EACjB,OAAOF,EACJG,IAAI,SAAAjB,GAAC,OAAIA,EAAEkB,QAAQ,IAAK,MACxBC,OAAO,SAACC,EAAKC,GACZ,IAAIC,EAASF,EAIb,OAHIC,KAAYR,IACdS,EAAM,GAAAC,OAAMH,GAANG,OAAYV,EAAUQ,KAEvBC,GACNR,EAAM,MCvBbU,EAAW,GAITC,EAAW,SAAAC,GAAI,OAAIF,EAASG,KAAKD,IAEjCE,EAAyB,SAAAF,GAC7BF,EAASG,KAAK1B,EAAOM,QAAS,CAAEsB,KAAMH,mBCTlCI,EACA,UADAA,EAEA,QAFAA,EAGI,UAHJA,EAImB,UAJnBA,EAKO,iBAIPC,EAAO,CACXC,QAAS,OACTC,cAAe,SACfC,WAAY,SACZC,eAAgB,OAGZC,EAAQ,CACZC,QAAS,MACTC,MAAOR,EACPS,SAAU,QCjBNC,EAAOC,OAAAC,EAAA,EAAAD,CAAA,GACRV,EADQ,CAEXI,eAAgB,SAChBE,QAAS,SAGLD,EAAKK,OAAAC,EAAA,EAAAD,CAAA,GACNE,EADM,CAETC,aAAc,SCDVC,EAAY,SAACC,GAAD,IAAMC,EAANC,UAAAhC,OAAA,QAAAiC,IAAAD,UAAA,GAAAA,UAAA,GAAkB,IAAKE,EAAvBF,UAAAhC,OAAA,QAAAiC,IAAAD,UAAA,GAAAA,UAAA,GAAkC,IAAlC,OAChB,IAAIG,QAAQ,SAACC,EAASC,GACpB,GAAIP,GAAOA,EAAI9B,OAAS,IAAM,CAE5B,IAAMsC,EAAMC,SAASC,cAAc,OAEnCF,EAAIG,OAAS,WAEX,IAAMC,EAASH,SAASC,cAAc,UAEhCG,EAAMD,EAAOE,WAAW,MAC9BD,EAAIE,uBAAwB,EAC5BF,EAAIG,sBAAwB,OAI5B,IAAIC,EAAST,EAAIS,OACbC,EAAQV,EAAIU,MAqBhB,GAnBIA,EAAQD,EACNC,EAAQd,IACVa,GAAUb,EAAWc,EACrBA,EAAQd,GAGNa,EAAShB,IACXiB,GAASjB,EAAYgB,EACrBA,EAAShB,GAIbW,EAAOK,OAASA,EAChBL,EAAOM,MAAQA,EAMXA,EAAQ,GAAKD,EAAS,EAAG,CAE3BJ,EAAIM,UAAUX,EAAK,EAAG,EAAGU,EAAOD,GAEhC,IAAMzC,EAASoC,EAAOQ,UAAU,cAIhCd,EAAQ9B,QAER+B,EAAO,0BAIXC,EAAIa,QAAU,kBAAMd,EAAOC,EAAIc,QAC/Bd,EAAIR,IAAMA,OAEVO,EAAO,4CAIPgB,EAAoB,SAACC,GAAD,IAAOvB,EAAPC,UAAAhC,OAAA,QAAAiC,IAAAD,UAAA,GAAAA,UAAA,GAAmB,IAAKE,EAAxBF,UAAAhC,OAAA,QAAAiC,IAAAD,UAAA,GAAAA,UAAA,GAAmC,IAAnC,OACxB,IAAIG,QAAQ,SAACC,EAASC,GAEpB,IACE,IAAMkB,EAAK,IAAIC,WACfD,EAAGd,OAAS,SAAAgB,GACV,IAAM3B,EAAM2B,EAAEC,OAAOpD,OAGrBuB,EAAUC,EAAKC,EAAWG,GAAUyB,KAClC,SAAAC,GAAO,OAAIxB,EAAQwB,IACnB,SAAAR,GAAK,OAAIf,EAAOe,MAIpBG,EAAGJ,QAAU,kBAAMd,EAAOkB,EAAGH,QAC7BG,EAAGM,cAAcP,GACjB,MAAOF,GACPf,EAAOe,OAKPU,EAAwB,SAACxB,GAAmB,IAAdyB,IAAc/B,UAAAhC,OAAA,QAAAiC,IAAAD,UAAA,KAAAA,UAAA,GAC1CgC,EAAUD,EAAK,IAAM,GACrBrB,EAASH,SAASC,cAAc,UAEtCE,EAAOK,OAAST,EAAIS,OACpBL,EAAOM,MAAQV,EAAIU,MAEnB,IAAML,EAAMD,EAAOE,WAAW,MAC9BD,EAAIE,uBAAwB,EAC5BF,EAAIG,sBAAwB,OAE5BH,EAAIM,UAAUX,EAAK,EAAG,GAEtBK,EAAIsB,UAAU,EAAG,EAAG3B,EAAIU,MAAOV,EAAIS,QACnCJ,EAAIuB,OACJxB,EAAOM,MAAQV,EAAIS,OACnBL,EAAOK,OAAST,EAAIU,MAEpBL,EAAIwB,UAAU,GAAI7B,EAAIS,OAAS,GAE/BJ,EAAIyB,OAAQJ,EAAUK,KAAKC,GAAM,KAC7BP,EACFpB,EAAIM,UAAUX,EAAKA,EAAIS,OAAS,GAAIT,EAAIS,QAExCJ,EAAIM,UAAUX,GAAMA,EAAIU,MAAQV,EAAIS,OAAS,EAAG,GAElDJ,EAAI4B,UAEJjC,EAAIR,IAAMY,EAAOQ,UAAU,cCnHvBsB,EAAY,SAAAlC,GAAG,MAAK,CACxBmC,KALiB,aAMjBnC,QCHaoC,EAHK,SAAAC,GAAQ,OAC1BA,GAAYA,EAASC,YAAcD,EAASC,WAAWC,SCDnD9D,EAAO,CACXC,QAAS,OACTC,cAAe,SACfC,WAAY,SACZC,eAAgB,OAGZ2D,EAASrD,OAAAC,EAAA,EAAAD,CAAA,CAEbsD,gBAAiB,UACjBC,UAAW,QACXC,SAAU,QACVjC,MAAO,OACPD,OAAQ,QACLhC,EAPU,CAQbQ,SAAU,qBACVD,MAAO,UAGH4D,EAAQ,CACZC,WAAY,iBACZ5D,SAAU,OACV6D,UAAW,QAGPC,EAAI5D,OAAAC,EAAA,EAAAD,CAAA,CACR6D,SAAU,WACVC,OAAQ,MACRvC,MAAO,OACPD,OAAQ,QACLhC,EALK,CAMRI,eAAgB,SAChBqE,OAAQ,MACRC,EAAG,CACDnE,MAAO,QACPoE,eAAgB,UAIdC,EAAclE,OAAAC,EAAA,EAAAD,CAAA,GACfV,EADe,CAElBqE,UAAW,OACXpC,MAAO,OACP4C,UAAW,4BC1CEC,EC4BAC,YAAQ,SAAAC,GAAK,MAAK,CAAEC,QAAStB,EAAYqB,KAAzCD,CAjBE,SAAAG,GAAK,OACpBxE,OAAAyE,EAAA,EAAAzE,CAAA,OAAK0E,IAAKC,GACR3E,OAAAyE,EAAA,EAAAzE,CAAA,OAAK0E,IAAKC,GAAV,aACCH,EAAMI,UACL5E,OAAAyE,EAAA,EAAAzE,CAAA,WACEA,OAAAyE,EAAA,EAAAzE,CAAA,OAAKK,IAAKwE,IAAMC,IAAI,MAGxB9E,OAAAyE,EAAA,EAAAzE,CAAA,OAAK0E,IAAKC,GAAuBH,EAAMO,UACtCP,EAAMD,SACLvE,OAAAyE,EAAA,EAAAzE,CAAA,OAAK0E,IAAKC,EAAYA,MAAOH,EAAMQ,WAAa,CAAEnB,SAAU,aAC1D7D,OAAAyE,EAAA,EAAAzE,CAACiF,EAAA,EAAD,CAAMC,GAAI1H,EAAOS,KAAM,0BCrBzBoF,EAASrD,OAAAC,EAAA,EAAAD,CAAA,CACbuB,MAAO,QACJjC,GAGC6F,EAAQ,CAEZA,MAAO,CACL5D,MAAO,QACPD,OAAQ,OACR8D,aAAc,MACdC,YAAahG,EACbQ,MAAOR,EACPiG,UAAW,SACXxF,SAAU,SACVyF,UAAW,QACX3F,QAAS,MACT4F,iBAAkB,CAChB3F,MAAOR,GAIToG,UAAW,CACTC,QAAS,UAKTC,EAAO3F,OAAAC,EAAA,EAAAD,CAAA,GACRL,EADQ,CAEXG,SAAU,SACVF,QAAS,QChCIgG,EC2CAvB,YACb,SAAAC,GAAK,MAAK,IACV,SAAAuB,GAAQ,MAAK,CACXC,WAAY,kBAAMD,EC5CC,CACrB7C,KAJe,cDgDb+C,WAAY,kBAAMF,ECzCC,CACrB7C,KAPe,gBD2CFqB,CAnCD,SAAA2B,GAAA,IACZvC,EADYuC,EACZvC,MACAwC,EAFYD,EAEZC,MACAC,EAHYF,EAGZE,YACAC,EAJYH,EAIZG,KACAC,EALYJ,EAKZI,WACAC,EANYL,EAMZK,SACAC,EAPYN,EAOZM,QACAC,EARYP,EAQZO,OACAC,EATYR,EASZQ,WACAC,EAVYT,EAUZS,kBACAX,EAXYE,EAWZF,WACAC,EAZYC,EAYZD,WAZY,OAcZ/F,OAAAyE,EAAA,EAAAzE,CAAA,OAAK0E,IAAKC,GACR3E,OAAAyE,EAAA,EAAAzE,CAAA,OAAK0E,IAAc,OAATyB,EAAgBxB,EAAgBA,GACxC3E,OAAAyE,EAAA,EAAAzE,CAAA,YAAOyD,IAETzD,OAAAyE,EAAA,EAAAzE,CAAA,OAAK0E,IAAKC,GACR3E,OAAAyE,EAAA,EAAAzE,CAAA,QAAAA,OAAA0G,OAAA,CACE/B,MAAOyB,EACPpD,KAAK,OACLkD,YAAaA,GACFD,GAAS,CAAEA,SAJxB,CAKEI,SAAU,SAAArE,GAAC,OAAKqE,EAAWA,EAASrE,EAAEC,OAAOgE,OAAS,kBAAM,OAC5DK,QAASA,EACTK,QAASF,EAAoB,kBAAM,MAAOV,EAC1Ca,OAAQH,EAAoB,kBAAM,MAAOX,EACzCe,IAAK,SAAA1B,GAAK,OAAIoB,GAAUA,EAAOpB,KAC3BqB,QEpCNM,EAAM,CACVxD,gBAAiBjE,EACjBQ,MAAOR,EACPkC,MAAO,QACPD,OAAQ,OACR8D,aAAc,MACdtF,SAAU,SACV4D,WAAY,iBACZqD,YAAa,OACbC,WAAY,CACVC,OAAM,aAAAnI,OAAeO,GACrB+F,aAAc,OAEhBK,UAAW,CACTwB,OAAM,aAAAnI,OAAeO,GACrB+F,aAAc,MACdM,QAAS,SCjBEwB,ECKA,SAAAlB,GAAA,IAAGmB,EAAHnB,EAAGmB,KAAMb,EAATN,EAASM,QAAT,OACbtG,OAAAyE,EAAA,EAAAzE,CAAA,UAAQ0E,IAAKC,EAAW2B,QAASA,GAC9Ba,qBCJCC,EAAOpH,OAAAC,EAAA,EAAAD,CAAA,GACRV,EADQ,CAEXyE,OAAQ,KACRJ,UAAW,OACX9D,MAAOR,ICPMgI,2BCWb,SAAAA,EAAY7C,GAAO,IAAA8C,EAAA,OAAAtH,OAAAuH,EAAA,EAAAvH,CAAAwH,KAAAH,IACjBC,EAAAtH,OAAAyH,EAAA,EAAAzH,CAAAwH,KAAAxH,OAAA0H,EAAA,EAAA1H,CAAAqH,GAAAM,KAAAH,KAAMhD,KAaRoD,cAAgB,SAACC,EAAOC,EAAWC,GAEjC,IAAM9G,EAASH,SAASC,cAAc,UAkBtC,OAjBAE,EAAOM,MAAQuG,EAAUvG,MACzBN,EAAOK,OAASwG,EAAUxG,OACdL,EAAOE,WAAW,MAE1BK,UACFqG,EACAC,EAAUE,EACVF,EAAUG,EACVH,EAAUvG,MACVuG,EAAUxG,OACV,EACA,EACAwG,EAAUvG,MACVuG,EAAUxG,QAILL,EAAOQ,UAAU,eAlCP6F,EA6CnBY,SAAW,WACLZ,EAAKa,SAASN,OAChBxF,EAAsBiF,EAAKa,SAASN,OAAO,IA7C7CP,EAAKhD,MAAQ,CACX8D,KAAM,CACJC,OAAQ,EACRL,EAAG,GACHC,EAAG,GACH3G,OAAQ,KAIZgG,EAAKa,SAAW,GAXCb,wEAmDV,IAAAgB,EAAAd,KACP,OACExH,OAAAyE,EAAA,EAAAzE,CAAA,WACEA,OAAAyE,EAAA,EAAAzE,CAAA,OAAKuI,UAAU,oBADjB,IAEEvI,OAAAyE,EAAA,EAAAzE,CAAA,OAAKuI,UAAU,wBACbvI,OAAAyE,EAAA,EAAAzE,CAACwI,EAAAxE,EAAD,CACE3D,IAAKmH,KAAKhD,MAAMrC,QAChBiG,KAAMZ,KAAKlD,MAAM8D,KACjBK,eAAe,EACfpC,SAAU,SAAA+B,GACRE,EAAKI,SAAS,CAAEN,UAElBO,WAAY,SAACP,EAAMN,GACjBQ,EAAKH,SAALnI,OAAAC,EAAA,EAAAD,CAAA,GAAqBsI,EAAKH,SAA1B,CAAoCL,eAGtCc,cAAe,SAACf,EAAOC,GACrBQ,EAAKH,SAAW,CAAEN,QAAOC,gBAG7B9H,OAAAyE,EAAA,EAAAzE,CAAA,OAAK0E,IAAKC,GACR3E,OAAAyE,EAAA,EAAAzE,CAAA,KAAGuI,UAAU,oBAAoBjC,QAAS,kBAAMgC,EAAKJ,eAEvDlI,OAAAyE,EAAA,EAAAzE,CAAA,OAAK0E,IAAKC,GACR3E,OAAAyE,EAAA,EAAAzE,CAAA,WACEA,OAAAyE,EAAA,EAAAzE,CAAA,UACEuI,UAAU,yBACVjC,QAAS,kBACPgC,EAAK9D,MAAMqE,OACTP,EAAKV,cACHU,EAAKH,SAASN,MACdS,EAAKH,SAASL,cAKpB9H,OAAAyE,EAAA,EAAAzE,CAAA,KAAGuI,UAAU,sBAXf,QAcAvI,OAAAyE,EAAA,EAAAzE,CAAA,UACEuI,UAAU,wBACVjC,QAASkB,KAAKhD,MAAMsE,UAEpB9I,OAAAyE,EAAA,EAAAzE,CAAA,KAAGuI,UAAU,uBAJf,qBA3FQQ,cCOhBC,EAAc,kBAClBhJ,OAAAyE,EAAA,EAAAzE,CAACiJ,EAAA,SAAD,KACEjJ,OAAAyE,EAAA,EAAAzE,CAAA,OAAK0E,IAAKC,GAAgB,UAC1B3E,OAAAyE,EAAA,EAAAzE,CAACkJ,EAAD,CACE/B,KAAK,2BACLb,QAAS,kBAAMtH,EAASxB,EAAOK,YAK/BsL,GAAa,SAAAnD,GAAA,IAAGoD,EAAHpD,EAAGoD,KAAH,OACjBpJ,OAAAyE,EAAA,EAAAzE,CAACiJ,EAAA,SAAD,KACEjJ,OAAAyE,EAAA,EAAAzE,CAAA,WACAA,OAAAyE,EAAA,EAAAzE,CAACkJ,EAAD,CACE/B,KAAK,aACLb,QAAS,kBAAMtH,EAASxB,EAAOU,aAAaV,EAAOQ,UAAW,CAAEoL,eAKhEC,GAAoB,SAAAC,GAAA,IAAGF,EAAHE,EAAGF,KAAMG,EAATD,EAASC,YAAaC,EAAtBF,EAAsBE,aAAtB,OACxBxJ,OAAAyE,EAAA,EAAAzE,CAAA,WACEA,OAAAyE,EAAA,EAAAzE,CAACyJ,EAAD,CACEhG,MAAM,oBACNyC,YAAY,kBACZG,SAAUmD,IAEXD,EAAcvJ,OAAAyE,EAAA,EAAAzE,CAAC0J,GAAD,CAAYN,KAAMA,IAAWpJ,OAAAyE,EAAA,EAAAzE,CAAC2J,EAAD,QAI1CC,GAAe,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,YAAaC,EAAhBF,EAAgBE,YAAaC,EAA7BH,EAA6BG,YAA7B,OACnBhK,OAAAyE,EAAA,EAAAzE,CAAA,OAAK0E,IAAKC,GACR3E,OAAAyE,EAAA,EAAAzE,CAAA,OAAK0E,IAAKC,GAAV,uBACA3E,OAAAyE,EAAA,EAAAzE,CAACkJ,EAAD,CAAQ/B,KAAK,kBAAkBb,QAAS0D,IACxChK,OAAAyE,EAAA,EAAAzE,CAAA,OAAK0E,IAAKC,GAAgB,UAC1B3E,OAAAyE,EAAA,EAAAzE,CAACkJ,EAAD,CAAQ/B,KAAK,eAAeb,QAAS,kBAAMtH,EAASxB,EAAOI,WAC3DoC,OAAAyE,EAAA,EAAAzE,CAAA,SACEgD,KAAK,OACL6D,IAAKiD,EACLzD,SAAU0D,EACVE,OAAO,UACPC,QAAM,MAKNC,eACJ,SAAAA,EAAY3F,GAAO,IAAA8C,EAAA,OAAAtH,OAAAuH,EAAA,EAAAvH,CAAAwH,KAAA2C,IACjB7C,EAAAtH,OAAAyH,EAAA,EAAAzH,CAAAwH,KAAAxH,OAAA0H,EAAA,EAAA1H,CAAAmK,GAAAxC,KAAAH,KAAMhD,KAYRgF,aAAe,SAAAJ,GAAI,OAAI9B,EAAKoB,SAAS,CAAEU,OAAMG,cAAeH,KAbzC9B,EAgBnByC,YAAc,SAAA/H,GACZ,GAAIA,EAAEC,OAAOmI,MAAM7L,OAAS,EAAG,CAC7B,IAAMsD,EAAOG,EAAEC,OAAOmI,MAAM,GAG5BxI,EAAkBC,GAAMK,KAAK,SAAAC,GAAO,OAClCmF,EAAKoB,SAAS,CAAE2B,YAAalI,QAtBhBmF,EA4BnB0C,YAAc,WACZ1C,EAAKwC,YAAYQ,QAAQC,SA7BRjD,EAgCnBkD,mBAAqB,SAAArI,GAEnB/B,EAAU+B,EAAS,IAAK,KAAKD,KAAK,SAAAuI,GAChCnD,EAAKoB,SACH,CACE2B,YAAa,MAEf,WACE/C,EAAK9C,MAAMkG,aAAaD,GACxBzL,EAASxB,EAAOG,cAzCL2J,EA+CnBqD,iBAAmB,WAGjBC,OAAOC,SAASC,QAAO,IAhDvBxD,EAAKhD,MAAQ,CACXiF,aAAa,EACbH,KAAM,GACNiB,YAAa,MAGf/C,EAAKwC,YAAciB,IAAMC,YAEzB1D,EAAKa,SAAW,GAVCb,wEAqDV,IAAAgB,EAAAd,KAAAyD,EACoCzD,KAAKlD,MAAxCiF,EADD0B,EACC1B,YAAaH,EADd6B,EACc7B,KAAMiB,EADpBY,EACoBZ,YAE3B,OACErK,OAAAyE,EAAA,EAAAzE,CAACiJ,EAAA,SAAD,KACGoB,GACCrK,OAAAyE,EAAA,EAAAzE,CAACkL,EAAD,CACE/I,QAASqF,KAAKlD,MAAM+F,YACpBxB,OAAQ,SAAA1G,GAAO,OAAImG,EAAKkC,mBAAmBrI,IAC3C2G,SAAU,kBAAMR,EAAKqC,sBAIzB3K,OAAAyE,EAAA,EAAAzE,CAACmL,EAAD,CAAUvG,UAAQ,GAChB5E,OAAAyE,EAAA,EAAAzE,CAACoL,EAAA,EAAD,KACEpL,OAAAyE,EAAA,EAAAzE,CAACoL,EAAA,EAAD,CACEnM,KAAMzB,EAAOK,MACbwN,OAAQ,SAAA7G,GAAK,OACXxE,OAAAyE,EAAA,EAAAzE,CAACsL,GAAD,CACExB,YAAaxB,EAAKwB,YAClBC,YAAazB,EAAKyB,YAClBC,YAAa1B,EAAK0B,iBAIxBhK,OAAAyE,EAAA,EAAAzE,CAACoL,EAAA,EAAD,CACEG,OAAK,EACLtM,KAAMzB,EAAOC,KACb4N,OAAQ,SAAA7G,GAAK,OACXxE,OAAAyE,EAAA,EAAAzE,CAACwL,GAAD,CACEjC,YAAaA,EACbH,KAAMA,EACNI,aAAclB,EAAKkB,4BAtFlBT,aC/DJ0C,GDgKApH,YACb,SAAAC,GAAK,MAAK,IACV,SAAAuB,GAAQ,MAAK,CACX6E,aAAc,SAAAvI,GAAO,OAAI0D,EAAS9C,EAAUZ,OAHjCkC,CAKb8F,IErKItJ,GAAM,CACVA,IAAK,CACHoG,OAAQ,iBACR7B,aAAc,SAIZzF,GAAKK,OAAAC,EAAA,EAAAD,CAAA,GACNV,EADM,CAETI,eAAgB,SAChB4F,UAAW,SACX1F,QAAS,MACTC,MAAOR,IAGHqM,GAAK1L,OAAAC,EAAA,EAAAD,CAAA,GACNV,EADM,CAETiC,MAAO,QACP3B,QAAS,MACT+L,OAAQ,aCjBJC,GAAe,SAAAC,GACnB,IAAIhN,EAAM,GAAAC,OAAM+M,EAAN,QACV,GAAIA,EAAM,GAAI,CACZ,IAAMC,EAAOD,EAAM,GACbE,EAAOnJ,KAAKoJ,MAAMH,EAAM,IAC9BhN,EAAM,GAAAC,OAAMiN,EAAN,SAAAjN,OAAkBgN,EAAlB,QAER,OAAOjN,GCXHoN,GAAc,SAAA/I,GAAQ,OAC1BA,GAAYA,EAASgJ,YAAchJ,EAASgJ,WAAWrL,KAEnDsL,GAA0B,SAAAjJ,GAAQ,OACtCA,GAAYA,EAASgJ,YAAchJ,EAASgJ,WAAWE,cAEnDC,GAAkB,SAAAnJ,GAAQ,OAC9BA,GACAA,EAASgJ,YAAc,CACrBI,IAAKpJ,EAASgJ,WAAWrL,IACzB0L,aAAcrJ,EAASgJ,WAAWE,gECThCI,GAAa,6BCKJC,IDAJ,GAAA3N,OANQ,0BAOR,GAAAA,OAAK0N,IAGN,GAAA1N,OAAK0N,GAAL,SAIA,GAAA1N,OAAK0N,GAAL,QEXK,CACbE,aAAa,EACbC,aAAa,EACbC,UAAS,GAAA9N,OANQ,yBAOjB+N,UAAS,GAAA/N,OANQ,6CAOjBgO,IAAK,CACH1D,KAAM,CACJnK,KAAI,GAAAH,OATS,4CAST,4EACJiO,OAAQ,QAEVlM,IAAK,CACH5B,KAAI,GAAAH,OAbS,4CAaT,4EACJiO,OAAQ,UCuCCC,GAhCG,SAAZC,EAAYtL,GACZ8K,GAAOC,aACTQ,QAAQC,IAAI,gBAAiBF,IA8BlBD,GAhBC,SAAAI,GACVX,GAAOC,aACTQ,QAAQC,IAAI,cAAeC,ICrC/BC,KAAMC,aAAaC,SAASC,IAAI,KAAM,SAAA7L,GAUpC,OAREA,EAAM4L,UACN5L,EAAM4L,SAASE,QAAU,KACzB9L,EAAM4L,SAASE,OAAS,KAGxBC,GAAiB/L,GAGZjB,QAAQE,OAAOe,KAGT,IAAAgM,GAAA,CACbC,IAAKP,KAAMO,IACXC,KAAMR,KAAMQ,KACZC,IAAKT,KAAMS,IACXC,OAAQV,KAAMU,QCpBVC,GAAqB,SAACC,EAAKC,GAC/B,IACMD,GAAOC,GACTC,aAAaC,QAAQH,EAAKI,KAAKC,UAAUJ,IAE3C,MAAOvM,GACPuL,QAAQqB,QAAR,sCAAAzP,OAAsD6C,MAIpD6M,GAAuB,SAAAP,GAC3B,IAAIpP,OAAS2B,EAEb,IACE,GAAIyN,EAAK,CACP,IAAMC,EAAOC,aAAaM,QAAQR,GAC9BC,IACFrP,EAASwP,KAAKK,MAAMR,KAGxB,MAAOvM,GACPuL,QAAQqB,QAAR,wCAAAzP,OAAwD6C,IAG1D,OAAO9C,GClBH8P,GAAW,SAAAC,GAAO,OACtB,IAAIlO,QAAQ,SAACC,EAASC,GAAV,OACViO,WAAW,WACT,IAAMzF,EAAI,cAAAtK,OAAiB8D,KAAKoJ,MAAsB,IAAhBpJ,KAAKkM,WACrCC,EAAUP,GAAqB,gBAAkB,GAEvDO,EAAQ3F,GAAQwF,EAChBZ,GAAmB,cAAee,GAClCpO,EAAQ,CAAEuN,KAAM,CAAE9E,WACjB,QAGD4F,GAAO,eAAAhJ,EAAAhG,OAAAiP,GAAA,EAAAjP,CAAAkP,GAAAlL,EAAAmL,KAAG,SAAAC,EAAMR,GAAN,IAAA/P,EAAA0O,EAAA,OAAA2B,GAAAlL,EAAAqL,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAlQ,MAAA,UACVP,EAAS,KAET0O,EAAW,OACXqB,GAAWA,EAAQtC,KAAOsC,EAAQrC,cAJxB,CAAA+C,EAAAlQ,KAAA,YAKPqN,GAAOE,YALA,CAAA2C,EAAAlQ,KAAA,eAAAkQ,EAAAlQ,KAAA,EAMOoQ,GAAK3B,KACpBpB,GAAOK,IAAI1D,KAAKnK,KAChBoP,KAAKC,UAAUM,GACf,CACEa,QAAS,CACPC,eAAgB,sBAXZ,OAMVnC,EANU+B,EAAAK,KAAAL,EAAAlQ,KAAA,uBAAAkQ,EAAAlQ,KAAA,GAgBOuP,GAASC,GAhBhB,QAgBVrB,EAhBU+B,EAAAK,KAAA,QAoBRpC,GAAYA,EAASW,MAAQX,EAASW,KAAK9E,OAC7CvK,EAAS0O,EAASW,KAAK9E,MArBbkG,EAAAlQ,KAAA,iBAwBZ+N,GAAY,4CAxBA,eAAAmC,EAAAM,OAAA,SA2BP/Q,GA3BO,yBAAAyQ,EAAAO,SAAAT,MAAH,gBAAAU,GAAA,OAAA9J,EAAA+J,MAAAvI,KAAAjH,YAAA,GCSPyP,GAAe,iBAAO,CAC1BhN,KAzBqB,mBA4BjBiN,GAAkB,SAAA7G,GAAI,MAAK,CAC/BpG,KA5BwB,oBA6BxBoG,SAGI8G,GAAe,SAAA9C,GAAG,MAAK,CAC3BpK,KAhCqB,iBAiCrBoK,QCjBI+C,8MACJC,UAAY,SAAAC,GAAK,OAAY,EAARA,KACrBC,YAAc,SAAAzE,GAAG,OAAIA,EAAM,KAE3B0E,cAAgB,WACdjJ,EAAK9C,MAAMgM,aACXrR,EAAuB3B,EAAOO,gFAGvB,IAAAuK,EAAAd,KAAAiJ,EACmDjJ,KAAKhD,MAAvDkM,EADDD,EACCC,SAAUC,EADXF,EACWE,gBAAiBC,EAD5BH,EAC4BG,mBAInC,OAHKF,GACH1R,EAASxB,EAAOK,OAGhBmC,OAAAyE,EAAA,EAAAzE,CAAA,WACEA,OAAAyE,EAAA,EAAAzE,CAACmL,EAAD,KACEnL,OAAAyE,EAAA,EAAAzE,CAAA,OAAK0E,IAAKC,IACR3E,OAAAyE,EAAA,EAAAzE,CAAA,OAAKK,IAAKqQ,EAAUpP,OAAO,MAAMC,MAAM,MAAMuD,IAAI,MAEnD9E,OAAAyE,EAAA,EAAAzE,CAAA,OAAK0E,IAAKC,IAAV,sEAGA3E,OAAAyE,EAAA,EAAAzE,CAAA,OAAK0E,IAAKC,IACR3E,OAAAyE,EAAA,EAAAzE,CAAA,SACEuI,UAAU,gBACVvF,KAAK,QACL6N,KAAK,WACLC,IAAI,IACJC,IAAI,KACJC,KAAK,IACL/K,MAAOuB,KAAK8I,YAAYK,GACxBtK,SAAU,SAAArE,GAAC,OAAI4O,EAAmBtI,EAAK8H,UAAUpO,EAAEC,OAAOgE,WAE3D2F,GAAa+E,IAEhB3Q,OAAAyE,EAAA,EAAAzE,CAACkJ,EAAD,CAAQ/B,KAAK,iBAAiBb,QAASkB,KAAK+I,yBApC5BU,iBCpBXd,GD+DA9L,YACb,SAAAC,GAAK,MAAK,CACRoM,SAAUzE,GAAY3H,GACtBqM,gBAAiBxE,GAAwB7H,KAE3C,SAAAuB,GAAQ,MAAK,CACX+K,mBAAoB,SAAAM,GAAQ,OAAIrL,E5BzDQ,CAC1C7C,KAb4B,wBAc5BoJ,a4BuD8D8E,KAC5DV,WAAY,SAAA5B,GAAO,OAAI/I,ED9DzB,eAAAG,EAAAhG,OAAAiP,GAAA,EAAAjP,CAAAkP,GAAAlL,EAAAmL,KAAO,SAAAC,EAAOvJ,EAAUsL,GAAjB,IAAAjO,EAAA0L,EAAAxF,EAAA,OAAA8F,GAAAlL,EAAAqL,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAlQ,MAAA,cACLyG,EAASmK,MAEH9M,EAAWiO,IACXvC,EAAUvC,GAAgBnJ,GAJ3BoM,EAAAlQ,KAAA,EAQcgS,GAAUxC,GARxB,OAQCxF,EARDkG,EAAAK,KAWH9J,EADEuD,EACO6G,GAAgB7G,GAEhB8G,GAAa,wBAbnB,wBAAAZ,EAAAO,SAAAT,MAAP,gBAAAU,EAAAuB,GAAA,OAAArL,EAAA+J,MAAAvI,KAAAjH,YAAA,OCuDa8D,CASb8L,IEvEItP,GAAGb,OAAAC,EAAA,EAAAD,CAAA,GACJV,EADI,CAEPuE,SAAU,WACVhD,IAAK,CACHoG,OAAQ,iBACR7B,aAAc,UAmBZkM,IAfKtR,OAAAC,EAAA,EAAAD,CAAA,GACNV,EADM,CAETI,eAAgB,SAChB4F,UAAW,SACX1F,QAAS,MACTC,MAAOR,IAGEW,OAAAC,EAAA,EAAAD,CAAA,GACNV,EADM,CAETiC,MAAO,QACP3B,QAAS,MACT+L,OAAQ,aAGK,CACbpI,UAAW,OACXhC,MAAO,OACP+D,UAAW,SACXxF,SAAU,OACVyR,UAAW,SACX1R,MAAO,SACPD,QAAS,QAGL4R,GAAO,CACX3N,SAAU,WACV4N,MAAO,OACP3N,OAAQ,OACRjE,MAAOR,EACP+F,aAAc,MACdxF,QAAS,MACT8R,WAAY,MACZpM,UAAW,SACXhC,gBAAiB,wBCjCNqO,GAAW,WACtB,IAAMC,EACJ,iBAAkBhH,OACdA,OAAOiH,eACP,cAAe/Q,SACfA,SAAS8Q,UACT,KACF,oBAAqBA,EAAWA,EAAUE,kBACrC,UAAWF,GAAWA,EAAUG,SCpBrCC,GAAe,SAAA9O,GAAQ,OAC3BA,GAAYA,EAAS+O,aAAe/O,EAAS+O,YAAY7I,MCwBrD8I,8MACJ5N,MAAQ,CAAEgN,OAAQ,MAClBa,gBAAkB,SAACtL,EAAKgK,GACtBhK,EAAIuL,SACJtR,SAASuR,YAAY,QACrBV,KACArK,EAAKoB,SAAS,CAAE4I,OAAM,QAAAxS,OAAU+R,EAAV,uCAGxBzK,WAAa,CACXtG,SAAU,SACVyR,UAAW,SACXe,WAAY,gFAGL,IAAAhK,EAAAd,KAAAiJ,EACwCjJ,KAAKhD,MAA5CkM,EADDD,EACCC,SAAU6B,EADX9B,EACW8B,QAAS5B,EADpBF,EACoBE,gBACtBD,GAAa6B,GAChBvT,EAASxB,EAAOC,MAHX,IAKC6T,EAAW9J,KAAKlD,MAAhBgN,OACF3S,EAAG,GAAAG,OAAM2N,GAAOG,WAAb9N,OAAyBtB,EAAOU,aAAaV,EAAOQ,UAAW,CACtEoL,KAAMmJ,KAER,OACEvS,OAAAyE,EAAA,EAAAzE,CAAA,WACEA,OAAAyE,EAAA,EAAAzE,CAACmL,EAAD,KACEnL,OAAAyE,EAAA,EAAAzE,CAAA,OAAK0E,IAAKC,IACR3E,OAAAyE,EAAA,EAAAzE,CAAA,OAAK0E,IAAKC,IAAaiH,GAAa+E,IACpC3Q,OAAAyE,EAAA,EAAAzE,CAAA,OAAKK,IAAKqQ,EAAUpP,OAAO,MAAMC,MAAM,MAAMuD,IAAI,MAEnD9E,OAAAyE,EAAA,EAAAzE,CAACyJ,EAAD,CACEhG,MAAM,kBACN0C,KAAK,KACLC,WAAYoB,KAAKpB,WACjBH,MAAOsM,EACPjM,QAAS,SAAAtE,GAAC,OAAIsG,EAAK6J,gBAAgB7J,EAAKkK,QAAS,SACjDjM,OAAQ,SAAAM,GAAG,OAAKyB,EAAKkK,QAAU3L,GAC/BJ,mBAAiB,IAEnBzG,OAAAyE,EAAA,EAAAzE,CAACyJ,EAAD,CACEhG,MAAM,kBACN0C,KAAK,KACLC,WAAYoB,KAAKpB,WACjBH,MAAOtH,EACP2H,QAAS,SAAAtE,GAAC,OAAIsG,EAAK6J,gBAAgB7J,EAAKmK,OAAQ,eAChDlM,OAAQ,SAAAM,GAAG,OAAKyB,EAAKmK,OAAS5L,GAC9BJ,mBAAiB,IAEnBzG,OAAAyE,EAAA,EAAAzE,CAAA,OAAK0E,IAAKC,IAAe2M,GACzBtR,OAAAyE,EAAA,EAAAzE,CAACkJ,EAAD,CACE/B,KAAK,sBACLb,QAAS,kBAAMtH,EAASxB,EAAOK,mBApDpBoT,iBCxBRiB,GDoFA7N,YACb,SAAAC,GAAK,MAAK,CACRoM,SAAUzE,GAAY3H,GACtBiO,QAASP,GAAa1N,GACtBqM,gBAAiBxE,GAAwB7H,KAE3C,SAAAuB,GAAQ,MAAK,CACX6M,YAAa,kBAAM7M,EjCnFC,CACtB7C,KARgB,eiC2Fd2P,aAAc,kBAAM9M,ENpDC,CACvB7C,KApCiB,kBM+EJqB,CAUb6N,wBE/FIU,GAAS,CACb/S,MAAO,OACPyF,UAAW,SACXnF,aAAc,OACd0S,KAAM,CACJjT,QAAS,QAIPkT,GAAe,CACnBjT,MAAO,UCQHkT,gBAAS,SAAA/M,GAAuB,IAApBgN,EAAoBhN,EAApBgN,KAAM1M,EAAcN,EAAdM,QACtB,OACEtG,OAAAyE,EAAA,EAAAzE,CAAA,OAAK0E,IAAKC,IACR3E,OAAAyE,EAAA,EAAAzE,CAAA,QACE0E,IAAKsO,IAASC,gBAAaC,MAAQvO,GACnC2B,QAAS,kBAAMA,EAAQ2M,gBAAaC,QAFtC,SAMAlT,OAAAyE,EAAA,EAAAzE,CAAA,iBACAA,OAAAyE,EAAA,EAAAzE,CAAA,QACE0E,IAAKsO,IAASC,gBAAaE,aAAexO,GAC1C2B,QAAS,kBAAMA,EAAQ2M,gBAAaE,eAFtC,WAUAC,eACJ,SAAAA,EAAY5O,GAAO,IAAA8C,EAAA,OAAAtH,OAAAuH,EAAA,EAAAvH,CAAAwH,KAAA4L,IACjB9L,EAAAtH,OAAAyH,EAAA,EAAAzH,CAAAwH,KAAAxH,OAAA0H,EAAA,EAAA1H,CAAAoT,GAAAzL,KAAAH,KAAMhD,KACDF,MAAQ,CAAE+O,UAAU,EAAMC,iBAAkBL,gBAAaE,aAF7C7L,2EAKPiM,GAAS,IAAAjL,EAAAd,KAEnBA,KAAKkB,SAAS,CAAE2K,UAAU,GAAS,kBAAM/K,EAAK9D,MAAMkG,aAAa6I,2CAGrD5R,GACZwL,GAAcxL,iFAQP,IAAA6R,EAAAhM,KAAAyD,EAEgCzD,KAAKlD,MAApC+O,EAFDpI,EAECoI,SAAUC,EAFXrI,EAEWqI,iBACZC,EAAU/L,KAAKhD,MAAMiP,OAE3B,OACEzT,OAAAyE,EAAA,EAAAzE,CAAA,OAAKuI,UAAU,wBACZ8K,EACCrT,OAAAyE,EAAA,EAAAzE,CAACiJ,EAAA,SAAD,MACI2B,OAAO8I,UAAY9I,OAAO+I,UAC1B3T,OAAAyE,EAAA,EAAAzE,CAAC4T,GAAD,CACEZ,KAAMM,EACNhN,QAAS,SAAA0M,GAAI,OAAIQ,EAAK9K,SAAS,CAAE4K,iBAAkBN,OAGvDhT,OAAAyE,EAAA,EAAAzE,CAAC6T,GAAA7P,EAAD,CACE8P,YAAa,SAAAP,GACXC,EAAKM,YAAYP,IAEnBQ,cAAe,SAAApS,GACb6R,EAAKO,cAAcpS,IAErBqS,gBAAiBV,EACjBW,gBAAiB,CAAE1S,MAAO,IAAKD,OAAQ,KAEvC4S,UAAWC,eAAYC,IACvBC,iBAAkB,IAClBC,iBAAiB,EACjBC,eAAe,EACfC,2BAA2B,EAC3BC,WAAY,EAIZC,aAAc,gBAalB1U,OAAAyE,EAAA,EAAAzE,CAAA,OAAKuI,UAAU,4BACbvI,OAAAyE,EAAA,EAAAzE,CAAA,OAAKK,IAAKkT,EAASzO,IAAI,KACvB9E,OAAAyE,EAAA,EAAAzE,CAAA,OAAKuI,UAAU,4BACbvI,OAAAyE,EAAA,EAAAzE,CAAA,KACEuI,UAAU,wBACVjC,QAAS,kBAAMkN,EAAK9K,SAAS,CAAE2K,UAAU,OAE3CrT,OAAAyE,EAAA,EAAAzE,CAACiF,EAAA,EAAD,CAAMC,GAAI,CAAEyP,SAAUnX,EAAOG,UAC3BqC,OAAAyE,EAAA,EAAAzE,CAAA,KAAGuI,UAAU,yCA3EJQ,aCrCVqK,GD0HA/O,YACb,SAAAC,GAAK,MAAK,CACRmP,OAAQxH,GAAY3H,KAEtB,SAAAuB,GAAQ,MAAK,CACX6E,aAAc,SAAAvI,GAAO,OAAI0D,EAAS9C,EAAUZ,OALjCkC,CAOb+O,IElIIvS,GAAM,CACVU,MAAO,OACPiC,SAAU,QACV/C,SAAU,QACV8C,UAAW,QACXjD,UAAW,QACX8E,aAAc,OACd6B,OAAQ,oBACR9G,aAAc,OAGVyU,GAAM,CACVrT,MAAO,OACPd,SAAU,SAIN+Q,GAAO,CACX7N,UAAW,OACX2B,UAAW,SACXxF,SAAU,OACVD,MAAO,UAGHgV,GAAgB,CACpBhR,SAAU,QACVN,UAAW,QACXC,SAAU,QACVjC,MAAO,OACPD,OAAQ,OACRyC,OAAQ,KCxBJ+Q,GAAa,SAAA1L,GACjB,OAAO,IAAI1I,QAAQ,SAACC,EAASC,GAC3B,IAAMmO,EAAUP,GAAqB,eAErC,GAAIO,GAAW3F,KAAQ2F,EAAS,CAC9B,IAAMb,EAAOa,EAAQ3F,GACfvI,EAAM,CACVqN,KAAM,CACJrN,IAAKqN,EAAK5B,IACVF,aAAc8B,EAAK3B,eAIvBsC,WAAW,kBAAMlO,EAAQE,IAAM,KAI/BmN,GAAmB,cAAee,QAElCnO,EAAO,uBAKPmU,GAAU,eAAA/O,EAAAhG,OAAAiP,GAAA,EAAAjP,CAAAkP,GAAAlL,EAAAmL,KAAG,SAAAC,EAAMhG,GAAN,IAAAvK,EAAA0O,EAAA,OAAA2B,GAAAlL,EAAAqL,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAlQ,MAAA,UACbP,EAAS,MACTuK,EAFa,CAAAkG,EAAAlQ,KAAA,YAIXmO,EAAW,KACVd,GAAOE,YALG,CAAA2C,EAAAlQ,KAAA,eAAAkQ,EAAAlQ,KAAA,EAMIoQ,GAAK5B,IAAL,GAAA9O,OAAY2N,GAAOK,IAAIjM,IAAI5B,KAA3B,SAAAH,OAAuCsK,IAN3C,OAMbmE,EANa+B,EAAAK,KAAAL,EAAAlQ,KAAA,uBAAAkQ,EAAAlQ,KAAA,GAQI0V,GAAW1L,GARf,QAQbmE,EARa+B,EAAAK,KAAA,QAYbpC,GACAA,EAASW,MACTX,EAASW,KAAKrN,KACd0M,EAASW,KAAK9B,eAEdvN,EAAS,CACPgC,IAAK0M,EAASW,KAAKrN,IACnBmU,SAAUzH,EAASW,KAAK9B,eAnBbkD,EAAAlQ,KAAA,iBAuBf+N,GAAY,sCAvBG,eAAAmC,EAAAM,OAAA,SAyBV/Q,GAzBU,yBAAAyQ,EAAAO,SAAAT,MAAH,gBAAAU,GAAA,OAAA9J,EAAA+J,MAAAvI,KAAAjH,YAAA,GCjBV0U,GAAkB,SAAArG,GAAO,MAAK,CAClC5L,KAXwB,oBAYxBkS,WAAW,EACXrU,IAAK+N,EAAQ/N,IACbmU,SAAUpG,EAAQoG,WAGdG,GAAe,SAAAC,GAAQ,MAAK,CAChCpS,KAjBqB,iBAkBrBkS,WAAW,EACXE,aAOIC,GAAqB,SAAAL,GAAQ,MAAK,CACtChS,KA1BqB,iBA2BrBgS,aA0CIM,GAxEiB,iBAwEjBA,GAvEoB,oBAuEpBA,GAtEiB,iBAsEjBA,GArEiB,iBAqEjBA,GApEmB,mBA4EnBC,GA5Ba,SAAAnM,GACjB,sBAAApD,EAAAhG,OAAAiP,GAAA,EAAAjP,CAAAkP,GAAAlL,EAAAmL,KAAO,SAAAC,EAAMvJ,GAAN,IAAA+I,EAAA,OAAAM,GAAAlL,EAAAqL,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAlQ,MAAA,cACLyG,EAhDwB,CAC1B7C,KAPqB,iBAQrBkS,WAAW,IA6CJ5F,EAAAC,KAAA,EAAAD,EAAAlQ,KAAA,EAGmB2V,GAAW3L,GAH9B,OAGGwF,EAHHU,EAAAK,KAQD9J,EAFE+I,EAEOqG,GAAgBrG,GAEhBuG,GAAa,2BAVrB7F,EAAAlQ,KAAA,gBAAAkQ,EAAAC,KAAA,EAAAD,EAAAkG,GAAAlG,EAAA,SAaHzJ,EAASsP,GAAa,2BACtBjI,QAAQC,IAAI,+BAAZmC,EAAAkG,IAdG,yBAAAlG,EAAAO,SAAAT,EAAA,iBAAP,gBAAAU,GAAA,OAAA9J,EAAA+J,MAAAvI,KAAAjH,YAAA,IA2BIgV,GA/Ce,SAAAE,GACnB,OAAO,SAAC5P,EAAUsL,GAChB,IAAMjO,EAAWiO,IACjB,GAAIjO,EAASwS,eAAgB,CAC3B,IAAMV,EAAW9R,EAASwS,eAAeV,SACnCW,EAAgBX,EAAWS,EAG7B5P,EAFAmP,EAAW,EAEFK,GADPM,EAAgB,EACUA,EAEA,GAnBR,CAC5B3S,KArBuB,wBCNnB4S,GAAgB,SAAA1S,GACpB,GAAIA,GAAYA,EAASwS,eAAgB,CACvC,IAAMpR,EAAQpB,EAASwS,eACjBG,EACJvR,EAAMwR,gBAAkB,EACnB,IAAMxR,EAAM0Q,SAAY1Q,EAAMwR,gBAC/B,EACN,MAAO,CACLjV,IAAKyD,EAAMzD,IACXmU,SAAU1Q,EAAM0Q,SAChBa,cCKAE,GAAW,kBACfnL,OAAOoL,YACPlV,SAASmV,gBAAgBC,aACzBpV,SAASqV,KAAKD,aAEVE,8MACJ9R,MAAQ,CACN+R,MAAO,KACPC,YAAaP,KAAa,IAAM,IAAMA,yFAGpB,IAAAzN,EAAAd,KAAA+O,EACQ/O,KAAKhD,MAAMgS,WAA7B3V,EADU0V,EACV1V,IAAKmU,EADKuB,EACLvB,SACb,IAAKnU,GAAOmU,GAAY,EACtBhW,EAASxB,EAAOC,UACX,CACL+J,KAAKkB,SAAS,CACZ4N,YAAaP,KAAa,IAAM,IAAMA,OAExC,IAAMM,EAAQI,YAAY,WACxBnO,EAAK9D,MAAMkS,aAAa,IACvB,KACHlP,KAAKkB,SAAS,CAAE2N,4CAIX,IACCG,EAAehP,KAAKhD,MAApBgS,WACA3V,EAA4B2V,EAA5B3V,IAAKgV,EAAuBW,EAAvBX,SAAUb,EAAawB,EAAbxB,SAQvB,QALKnU,GAAOmU,GAAY,KACtB2B,cAAcnP,KAAKlD,MAAM+R,OACzBrX,EAASxB,EAAOC,OAIhBuC,OAAAyE,EAAA,EAAAzE,CAACiJ,EAAA,SAAD,KACEjJ,OAAAyE,EAAA,EAAAzE,CAAA,OAAK0E,IAAKC,KACV3E,OAAAyE,EAAA,EAAAzE,CAACmL,EAAD,CAAUnG,WAAS,GACjBhF,OAAAyE,EAAA,EAAAzE,CAAA,OAAK0E,IAAKC,IACR3E,OAAAyE,EAAA,EAAAzE,CAAA,OAAKK,IAAKQ,EAAKiE,IAAI,GAAGvD,MAAOiG,KAAKlD,MAAMgS,eAE1CtW,OAAAyE,EAAA,EAAAzE,CAAA,OAAK0E,IAAKC,IACR3E,OAAAyE,EAAA,EAAAzE,CAAA,OAAKuI,UAAU,YACbvI,OAAAyE,EAAA,EAAAzE,CAAA,OAAKuI,UAAU,eAAe5D,MAAO,CAAEpD,MAAK,GAAAzC,OAAK+W,EAAL,SAE9C7V,OAAAyE,EAAA,EAAAzE,CAAA,OAAK0E,IAAKC,IAAaiH,GAAaoJ,cA1CxB/D,iBCnBTmF,GDqEA/R,YACb,SAAAC,GAAK,MAAK,CACRkS,WAAYZ,GAActR,KAE5B,SAAAuB,GAAQ,MAAK,CACX6Q,aAAc,SAAAE,GAAW,OAAI/Q,EAAS0P,GAAqBqB,OALhDvS,CAOb+R,IE3EI/S,GAASrD,OAAAC,EAAA,EAAAD,CAAA,GACVV,EADU,CAEbI,eAAgB,SAChB4D,gBAAiBjE,EACjBiC,OAAQ,QACRzB,MAAOR,EACPS,SAAU,qBACV4D,WAAY,uCCRCmT,GCgCAxS,YAAQ,SAAAC,GAAK,MAAK,CAC/BwS,cClCwB5T,EDkCQoB,ECjChCpB,IACEA,EAAS+O,aAAe/O,EAAS+O,YAAYiD,WAC5ChS,EAASwS,gBAAkBxS,EAASwS,eAAeR,aAH9B,IAAAhS,GDiCXmB,CApBK,SAAAG,GAClB,IAAKA,EAAMsS,aAAc,CACvB,IAAMC,ElDHqBhY,GAAYA,EAAS8L,SAASvG,MkDIrDyS,GAAiBA,EAAc3X,KACjCJ,EAAS+X,EAAc3X,MAEvBJ,EAASxB,EAAOC,MAIpB,OACEuC,OAAAyE,EAAA,EAAAzE,CAAA,OAAK0E,IAAKC,IACR3E,OAAAyE,EAAA,EAAAzE,CAAA,wBACAA,OAAAyE,EAAA,EAAAzE,CAAA,WACEA,OAAAyE,EAAA,EAAAzE,CAAA,OAAKK,IAAK2W,KAASlS,IAAI,SEzBzBzB,GAASrD,OAAAC,EAAA,EAAAD,CAAA,GACVV,EADU,CAEbgE,gBAAiBjE,EACjBiC,OAAQ,QACRC,MAAO,SCLM0V,GCoBA5S,YACb,SAAAC,GAAK,MAAK,IACV,SAAAuB,GAAQ,MAAK,CACXqR,YAAa,SAAA9N,GAAI,OAAIvD,EAAS0P,GAAmBnM,OAHtC/E,CAXG,SAAAG,GAChB,GAAIA,EAAM2S,OAAS3S,EAAM2S,MAAMC,QAAU5S,EAAM2S,MAAMC,OAAOhO,KAAM,CAChE,IAAMA,EAAO5E,EAAM2S,MAAMC,OAAOhO,KAEhC5E,EAAM0S,YAAY9N,GAClBjK,EAAuB3B,EAAOE,MAGhC,OAAOsC,OAAAyE,EAAA,EAAAzE,CAAA,OAAK0E,IAAKC,OChBbtB,GAASrD,OAAAC,EAAA,EAAAD,CAAA,CAEbsD,gBAAiBjE,EACjBkE,UAAW,QACXhC,MAAO,QACJjC,EALU,CAMbQ,SAAU,qBACVD,MAAOR,EAEPgY,EAAG,CACDxX,MAAO,QACPM,aAAc,UAIZsD,GAAQ,CACZC,WAAYrE,EACZS,SAAU,OACV6D,UAAW,QAGPwD,GAAO,CACXmQ,QAAS,QACT1X,QAAS,QCxBI2X,GCOY,kBACzBvX,OAAAyE,EAAA,EAAAzE,CAAA,OAAK0E,IAAKC,IACR3E,OAAAyE,EAAA,EAAAzE,CAAA,OAAK0E,IAAKC,IAAV,aACA3E,OAAAyE,EAAA,EAAAzE,CAAA,OAAK0E,IAAKC,IACR3E,OAAAyE,EAAA,EAAAzE,CAAA,kaAOEA,OAAAyE,EAAA,EAAAzE,CAAA,WAPF,iBAUAA,OAAAyE,EAAA,EAAAzE,CAAA,UACEA,OAAAyE,EAAA,EAAAzE,CAAA,uKAKAA,OAAAyE,EAAA,EAAAzE,CAAA,sFAIAA,OAAAyE,EAAA,EAAAzE,CAAA,oLAKAA,OAAAyE,EAAA,EAAAzE,CAAA,4CAEFA,OAAAyE,EAAA,EAAAzE,CAAA,+EAEFA,OAAAyE,EAAA,EAAAzE,CAAA,WACEA,OAAAyE,EAAA,EAAAzE,CAAA,KACEuI,UAAU,oBACViP,cAAY,OACZlR,QAAS,kBAAMtH,EAASxB,EAAOC,YCZxBga,oL1D7BF,IAAAC,E0DcT,O1DdSA,E0DaElQ,KAAKhD,MAAMkT,Q1DbD3Y,EAAW2Y,E0De9BC,EAAA3T,EAAAjD,cAACqK,EAAA,EAAD,KACEuM,EAAA3T,EAAAjD,cAACqK,EAAA,EAAD,CAAOnM,KAAMzB,EAAOM,QAAS8Z,UAAWf,KACxCc,EAAA3T,EAAAjD,cAACqK,EAAA,EAAD,CAAOnM,KAAMzB,EAAOQ,UAAW4Z,UAAWX,KAC1CU,EAAA3T,EAAAjD,cAACqK,EAAA,EAAD,CAAOnM,KAAMzB,EAAOG,QAASia,UAAWzH,KACxCwH,EAAA3T,EAAAjD,cAACqK,EAAA,EAAD,CAAOnM,KAAMzB,EAAOO,MAAO6Z,UAAW1F,KACtCyF,EAAA3T,EAAAjD,cAACqK,EAAA,EAAD,CAAOnM,KAAMzB,EAAOI,OAAQga,UAAWxE,KACvCuE,EAAA3T,EAAAjD,cAACqK,EAAA,EAAD,CAAOnM,KAAMzB,EAAOE,KAAMka,UAAWxB,KACrCuB,EAAA3T,EAAAjD,cAACqK,EAAA,EAAD,CAAOnM,KAAMzB,EAAOS,IAAK2Z,UAAWC,KACpCF,EAAA3T,EAAAjD,cAACqK,EAAA,EAAD,CAAOnM,KAAMzB,EAAOC,KAAMma,UAAWnM,aAZ3B1C,aCHE+O,QACW,cAA7BlN,OAAOC,SAASkN,UAEe,UAA7BnN,OAAOC,SAASkN,UAEhBnN,OAAOC,SAASkN,SAASZ,MACvB,iFCWSjL,GAvBI,WAAqD,IAApD5H,EAAoD/D,UAAAhC,OAAA,QAAAiC,IAAAD,UAAA,GAAAA,UAAA,GAA5C,CAAEM,IAAK,KAAMuL,aAAc,IAAM4L,EAAWzX,UAAAhC,OAAA,EAAAgC,UAAA,QAAAC,EACtE,IAAKwX,IAAWA,EAAOhV,KAAM,OAAOsB,EAEpC,IAAI2T,EAAW,GAEf,OAAQD,EAAOhV,MACb,IxDZe,awDabiV,EAAQjY,OAAAC,EAAA,EAAAD,CAAA,GAAQsE,EAAR,CAAezD,IAAKmX,EAAOnX,MACnC,MACF,IxDd0B,wBwDexBoX,EAAQjY,OAAAC,EAAA,EAAAD,CAAA,GAAQsE,EAAR,CAAe8H,aAAc4L,EAAO5L,eAC5C,MACF,IxDhBc,YwDiBZ6L,EAAQjY,OAAAC,EAAA,EAAAD,CAAA,GAAQsE,EAAR,CAAezD,IAAK,OAC5B,MACF,QACEoX,EAAQjY,OAAAC,EAAA,EAAAD,CAAA,GAAQsE,GAIpB,OAAO2T,GCDM/L,GAvBI,WAAuC,IAAtC5H,EAAsC/D,UAAAhC,OAAA,QAAAiC,IAAAD,UAAA,GAAAA,UAAA,GAA9B,CAAE6C,SAAS,GAAQ4U,EAAWzX,UAAAhC,OAAA,EAAAgC,UAAA,QAAAC,EACxD,IAAKwX,IAAWA,EAAOhV,KAAM,OAAOsB,EAEpC,IAAI2T,EAAW,GACf,GAAIrN,OAAO8I,SACT,OAAQsE,EAAOhV,MACb,IjDPW,WiDQTiV,EAAQjY,OAAAC,EAAA,EAAAD,CAAA,GAAQsE,EAAR,CAAelB,SAAS,IAChC,MACF,IjDXW,WiDYT6U,EAAQjY,OAAAC,EAAA,EAAAD,CAAA,GAAQsE,EAAR,CAAelB,SAAS,IAChC,MACF,QACE6U,EAAQjY,OAAAC,EAAA,EAAAD,CAAA,GAAQsE,QAIpB2T,EAAW3T,EAGb,OAAO2T,GCWMhG,GA1BK,WAAsD,IAArD3N,EAAqD/D,UAAAhC,OAAA,QAAAiC,IAAAD,UAAA,GAAAA,UAAA,GAA7C,CAAE6I,KAAM,KAAM8L,WAAW,GAAS8C,EAAWzX,UAAAhC,OAAA,EAAAgC,UAAA,QAAAC,EACxE,IAAKwX,IAAWA,EAAOhV,KAAM,OAAOsB,EAEpC,IAAI2T,EAAW,GAEf,OAAQD,EAAOhV,MACb,I/BVmB,iB+BWjBiV,EAAQjY,OAAAC,EAAA,EAAAD,CAAA,GAAQsE,EAAR,CAAe8E,KAAM,KAAM8L,WAAW,IAC9C,MACF,I/BZsB,oB+BapB+C,EAAQjY,OAAAC,EAAA,EAAAD,CAAA,GAAQsE,EAAR,CAAe8E,KAAM4O,EAAO5O,KAAM8L,WAAW,IACrD,MACF,I/BdmB,iB+BejB+C,EAAQjY,OAAAC,EAAA,EAAAD,CAAA,GAAQsE,EAAR,CAAe4T,UAAWF,EAAO5K,IAAK8H,WAAW,IACzD,MACF,I/BhBe,a+BiBb+C,EAAQjY,OAAAC,EAAA,EAAAD,CAAA,GAAQsE,EAAR,CAAe8E,KAAM,KAAM8L,WAAW,IAC9C,MACF,QACE+C,EAAQjY,OAAAC,EAAA,EAAAD,CAAA,GAAQsE,GAIpB,OAAO2T,GCmBMvC,GA/CQ,WAGlB,IAFHpR,EAEG/D,UAAAhC,OAAA,QAAAiC,IAAAD,UAAA,GAAAA,UAAA,GAFK,CAAEM,IAAK,KAAMmU,SAAU,EAAGc,gBAAiB,EAAGZ,WAAW,GACjE8C,EACGzX,UAAAhC,OAAA,EAAAgC,UAAA,QAAAC,EACH,IAAKwX,IAAWA,EAAOhV,KAAM,OAAOsB,EAEpC,IAAI2T,EAAW,GAEf,OAAQD,EAAOhV,MACb,KAAKsS,GACH2C,EAAQjY,OAAAC,EAAA,EAAAD,CAAA,GAAQsE,EAAR,CAAe4Q,WAAW,IAClC,MACF,KAAKI,GACH2C,EAAQjY,OAAAC,EAAA,EAAAD,CAAA,GACHsE,EADG,CAENzD,IAAKmX,EAAOnX,IACZmU,SAAUgD,EAAOhD,SACjBc,gBAAiBkC,EAAOhD,SACxBE,WAAW,IAEb,MACF,KAAKI,GACH2C,EAAQjY,OAAAC,EAAA,EAAAD,CAAA,GAAQsE,EAAR,CAAe8Q,SAAU4C,EAAO5C,SAAUF,WAAW,IAC7D,MACF,KAAKI,GACH2C,EAAQjY,OAAAC,EAAA,EAAAD,CAAA,GACHsE,EADG,CAENzD,IAAK,KACLmU,SAAU,EACVc,gBAAiB,EACjBZ,WAAW,IAEb,MACF,KAAKI,GACH2C,EAAQjY,OAAAC,EAAA,EAAAD,CAAA,GACHsE,EADG,CAEN0Q,SAAUgD,EAAOhD,WAEnB,MACF,QACEiD,EAAW3T,EAIf,OAAO2T,GCtCHE,GAAcC,aAAgB,CAClClM,cACA/I,cACA8O,eACAyD,oBAGI2C,GAAmBzN,OAAO0N,sCAAwCC,KAOzDC,GANDC,aACZN,GAEAE,GAAiBK,aAAgBC,QCEpBjF,GArBE,WACf,IAEU1P,EAFN4U,GAAQ,EAcZ,OAZU5U,EAUP6U,UAAUC,WAAaD,UAAUE,QAAUnO,OAAOoO,OARjD,2TAA2TC,KACzTjV,IAEF,0kDAA0kDiV,KACxkDjV,EAAEkV,OAAO,EAAG,OAGdN,GAAQ,GAGLA,GCOHO,UAAcrY,SAASsY,eAAe,SAG5CxO,OAAO8I,SAAWA,KAClB9I,OAAO+I,QDPLkF,UAAUE,QAAUF,UAAUE,OAAOM,QAAQ,UAAY,ECS3DC,IAASjO,OAAOsM,EAAA3T,EAAAjD,cAdA,kBACd4W,EAAA3T,EAAAjD,cAACwY,EAAA,EAAD,CAAUf,MAAOA,IACfb,EAAA3T,EAAAjD,cAACkE,EAAA,EAAD,KACE0S,EAAA3T,EAAAjD,cAACqK,EAAA,EAAD,CAAOnM,KAAK,IAAI2Y,UAAWH,QAWjB,MAAa0B,IPqGvB,kBAAmBN,WACrBA,UAAUW,cAAcC,MAAMvX,KAAK,SAAAwX,GACjCA,EAAaC","file":"static/js/main.65ae4456.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.e403987b.png\";","module.exports = __webpack_public_path__ + \"static/media/dual-ring-spinner-0.5s-200px.438ede40.svg\";","const routes = {\r\n  home: \"/\",\r\n  view: \"/view\",\r\n  options: \"/options\",\r\n  camera: \"/camera\",\r\n  share: \"/share\",\r\n  loading: \"/loading\",\r\n  codes: \"/codes\",\r\n  loadImage: \"/v/:code\",\r\n  tac: \"/terms-and-conditions\",\r\n  /**\r\n   * @param {string} route: the route to operate on\r\n   * @param {wildcards} wildcards: key value pair of wildcards and their values {wildcard: value, ..}\r\n   */\r\n  withWildCard: (route, wildcards) => {\r\n    const parts = route.split(\":\");\r\n    if (parts.length > 1) {\r\n      return parts\r\n        .map(p => p.replace(\"/\", \"\"))\r\n        .reduce((url, wildcard) => {\r\n          let result = url;\r\n          if (wildcard in wildcards) {\r\n            result = `${url}${wildcards[wildcard]}`;\r\n          }\r\n          return result;\r\n        }, parts[0]);\r\n    }\r\n  }\r\n};\r\n\r\nexport default routes;\r\n","import routes from \"../config/routes\";\r\n\r\nlet _history = {};\r\n\r\nconst init = history => (_history = history);\r\n\r\nconst navigate = path => _history.push(path);\r\n\r\nconst navigateWithLoadScreen = path => {\r\n  _history.push(routes.loading, { next: path });\r\n};\r\n\r\nconst getLocationState = () => _history && _history.location.state;\r\n\r\nexport { init, navigate, routes, navigateWithLoadScreen, getLocationState };\r\n","const theme = {\r\n  bg: \"#282c34\",\r\n  fg: \"white\",\r\n  accent: \"#e93578\",\r\n  inputPlaceHolderColor: \"#e5e5e5\",\r\n  titleFont: \"AguafinaScript\",\r\n  btnFont: \"AllertaStencil\"\r\n};\r\n\r\nconst flex = {\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"top\"\r\n};\r\n\r\nconst label = {\r\n  padding: \"5px\",\r\n  color: theme.fg,\r\n  fontSize: \"2rem\"\r\n};\r\n\r\nexport { theme, flex, label };\r\n","import { flex, label as _label } from \"../../commonStyle\";\r\n\r\nconst divider = {\r\n  ...flex,\r\n  justifyContent: \"center\",\r\n  padding: \"10px\"\r\n};\r\n\r\nconst label = {\r\n  ..._label,\r\n  marginBottom: \"10px\"\r\n};\r\n\r\nexport { divider, label, flex };\r\n","const getBase64 = file => {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = () => reject(reader.error);\r\n    reader.readAsDataURL(file);\r\n  });\r\n};\r\n\r\nconst resizeImg = (src, maxHeight = 420, maxWidth = 420) =>\r\n  new Promise((resolve, reject) => {\r\n    if (src && src.length > 2000) {\r\n      // create an img element and load the img. this will be used to load the canvas for resizing.\r\n      const img = document.createElement(\"img\");\r\n\r\n      img.onload = () => {\r\n        // create a canvas and set the props for img quality\r\n        const canvas = document.createElement(\"canvas\");\r\n\r\n        const ctx = canvas.getContext(\"2d\");\r\n        ctx.imageSmoothingEnabled = true;\r\n        ctx.imageSmoothingQuality = \"high\";\r\n        //ctx.drawImage(file, 0, 0);\r\n\r\n        // perform calculations on height and width to preserve aspect ratio\r\n        let height = img.height;\r\n        let width = img.width;\r\n\r\n        if (width > height) {\r\n          if (width > maxWidth) {\r\n            height *= maxWidth / width;\r\n            width = maxWidth;\r\n          }\r\n        } else {\r\n          if (height > maxHeight) {\r\n            width *= maxHeight / height;\r\n            height = maxHeight;\r\n          }\r\n        }\r\n\r\n        canvas.height = height;\r\n        canvas.width = width;\r\n\r\n        //console.log(\"h:\", height);\r\n        //console.log(\"w:\", width);\r\n\r\n        // confirm the img dimensions are valid.\r\n        if (width > 0 && height > 0) {\r\n          // redraw the img and output dataUrl\r\n          ctx.drawImage(img, 0, 0, width, height);\r\n\r\n          const result = canvas.toDataURL(\"image/jpeg\");\r\n\r\n          // console.log(\"result: \", result.length);\r\n\r\n          resolve(result);\r\n        } else {\r\n          reject(\"Failed to load image.\");\r\n        }\r\n      };\r\n\r\n      img.onerror = () => reject(img.error);\r\n      img.src = src;\r\n    } else {\r\n      reject(\"Failed to load file OR img too small.\");\r\n    }\r\n  });\r\n\r\nconst resizeImgFromFile = (file, maxHeight = 420, maxWidth = 420) =>\r\n  new Promise((resolve, reject) => {\r\n    // create a file reader and read the img file.\r\n    try {\r\n      const fr = new FileReader();\r\n      fr.onload = e => {\r\n        const src = e.target.result;\r\n        //console.log(\"src\", src.length);\r\n        // make sure the file has loaded and it is at least 26x26 px^2\r\n        resizeImg(src, maxHeight, maxWidth).then(\r\n          dataUrl => resolve(dataUrl),\r\n          error => reject(error)\r\n        );\r\n      };\r\n\r\n      fr.onerror = () => reject(fr.error);\r\n      fr.readAsDataURL(file);\r\n    } catch (error) {\r\n      reject(error);\r\n    }\r\n    //img.src = window.URL.createObjectURL(file);\r\n  });\r\n\r\nconst rotateImg90DegInPlace = (img, cw = true) => {\r\n  const degrees = cw ? 90 : -90;\r\n  const canvas = document.createElement(\"canvas\");\r\n\r\n  canvas.height = img.height;\r\n  canvas.width = img.width;\r\n\r\n  const ctx = canvas.getContext(\"2d\");\r\n  ctx.imageSmoothingEnabled = true;\r\n  ctx.imageSmoothingQuality = \"high\";\r\n\r\n  ctx.drawImage(img, 0, 0);\r\n\r\n  ctx.clearRect(0, 0, img.width, img.height);\r\n  ctx.save();\r\n  canvas.width = img.height;\r\n  canvas.height = img.width;\r\n\r\n  ctx.translate(0, -img.height / 2);\r\n\r\n  ctx.rotate((degrees * Math.PI) / 180);\r\n  if (cw) {\r\n    ctx.drawImage(img, img.height / 2, -img.height);\r\n  } else {\r\n    ctx.drawImage(img, -img.width - img.height / 2, 0);\r\n  }\r\n  ctx.restore();\r\n\r\n  img.src = canvas.toDataURL(\"image/png\");\r\n};\r\n\r\nexport { rotateImg90DegInPlace, resizeImgFromFile, resizeImg, getBase64 };\r\n","const IMG_UPDATE = \"IMG_UPDATE\";\r\nconst IMG_SET_VIEW_DURATION = \"IMG_SET_VIEW_DURATION\";\r\nconst CLEAR_IMG = \"CLEAR_IMG\";\r\n\r\nconst imgUpdate = img => ({\r\n  type: IMG_UPDATE,\r\n  img\r\n});\r\n\r\nconst clearImg = () => ({\r\n  type: CLEAR_IMG\r\n});\r\n\r\nconst imgSetViewDuration = viewDuration => ({\r\n  type: IMG_SET_VIEW_DURATION,\r\n  viewDuration\r\n});\r\n\r\nexport {\r\n  IMG_UPDATE,\r\n  IMG_SET_VIEW_DURATION,\r\n  CLEAR_IMG,\r\n  imgUpdate,\r\n  imgSetViewDuration,\r\n  clearImg\r\n};\r\n","const tacSelector = rdxState =>\r\n  rdxState && rdxState.tacReducer && rdxState.tacReducer.visible;\r\n\r\nexport default tacSelector;\r\n","const flex = {\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"top\"\r\n};\r\n\r\nconst container = {\r\n  //position: \"absolute\",\r\n  backgroundColor: \"#282c34\",\r\n  minHeight: \"100vh\",\r\n  minWidth: \"100vw\",\r\n  width: \"100%\",\r\n  height: \"100%\",\r\n  ...flex,\r\n  fontSize: \"calc(10px + 2vmin)\",\r\n  color: \"white\"\r\n};\r\n\r\nconst title = {\r\n  fontFamily: \"AguafinaScript\",\r\n  fontSize: \"3rem\",\r\n  marginTop: \"20px\"\r\n};\r\n\r\nconst link = {\r\n  position: \"relative\",\r\n  bottom: \"0px\",\r\n  width: \"100%\",\r\n  height: \"40px\",\r\n  ...flex,\r\n  justifyContent: \"center\",\r\n  zIndex: 10001,\r\n  a: {\r\n    color: \"white\",\r\n    textDecoration: \"none\"\r\n  }\r\n};\r\n\r\nconst childContainer = {\r\n  ...flex,\r\n  marginTop: \"20px\",\r\n  width: \"100%\",\r\n  overflowX: \"hidden\"\r\n  // minHeight: \"200px\"\r\n};\r\n\r\nexport { container, title, link, childContainer };\r\n","import BaseView from \"./BaseView\";\r\nexport default BaseView;\r\n","/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport React from \"react\"; // eslint-disable-line\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport tacSelector from \"../../../redux/selectors/tacSelectors\";\r\nimport routes from \"../../../config/routes\";\r\n\r\nimport * as style from \"./styles\";\r\nimport logo from \"../../../assets/img/logo.png\";\r\n\r\nconst BaseView = props => (\r\n  <div css={style.container}>\r\n    <div css={style.title}>SeeMeOnce</div>\r\n    {props.showLogo && (\r\n      <div>\r\n        <img src={logo} alt=\"\" />\r\n      </div>\r\n    )}\r\n    <div css={style.childContainer}>{props.children}</div>\r\n    {props.showTac && ( // hide on when keyboard is open on mobile phones\r\n      <div css={style.link} style={props.tacBottom && { position: \"absolute\" }}>\r\n        <Link to={routes.tac}>{\"Terms & Conditions\"}</Link>\r\n      </div>\r\n    )}\r\n  </div>\r\n);\r\n\r\nexport default connect(state => ({ showTac: tacSelector(state) }))(BaseView);\r\n","import { theme, flex, label } from \"../commonStyle\";\r\n\r\nconst container = {\r\n  width: \"100%\",\r\n  ...flex\r\n};\r\n\r\nconst input = {\r\n  // marginBottom: \"10px\",\r\n  input: {\r\n    width: \"300px\",\r\n    height: \"46px\",\r\n    borderRadius: \"8px\",\r\n    borderColor: theme.accent,\r\n    color: theme.accent,\r\n    textAlign: \"center\",\r\n    fontSize: \"1.8rem\",\r\n    boxSizing: \"unset\",\r\n    padding: \"4px\",\r\n    \"&::placeholder\": {\r\n      color: theme.inputPlaceHolderColor\r\n      //fontSize: \"20px\",\r\n      // lineHeight: \"20px\"\r\n    },\r\n    \"&:focus\": {\r\n      outline: \"none\"\r\n    }\r\n  }\r\n};\r\n\r\nconst labelSm = {\r\n  ...label,\r\n  fontSize: \"1.2rem\",\r\n  padding: \"2px\"\r\n};\r\n\r\nexport { label, labelSm, input, container };\r\n","import Input from \"./Input\";\r\nexport default Input;\r\n","/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport React from \"react\"; // eslint-disable-line\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { tacShow, tacHide } from \"../../redux/actions/tacActions\";\r\n\r\nimport * as style from \"./styles\";\r\n\r\nconst Input = ({\r\n  title,\r\n  value,\r\n  placeholder,\r\n  size,\r\n  inputStyle,\r\n  onChange,\r\n  onClick,\r\n  getRef,\r\n  inputProps,\r\n  disableTacHidding,\r\n  rdxTacShow,\r\n  rdxTacHide\r\n}) => (\r\n  <div css={style.container}>\r\n    <div css={size === \"sm\" ? style.labelSm : style.label}>\r\n      <span>{title}</span>\r\n    </div>\r\n    <div css={style.input}>\r\n      <input\r\n        style={inputStyle}\r\n        type=\"text\"\r\n        placeholder={placeholder}\r\n        {...(() => value && { value })()}\r\n        onChange={e => (onChange ? onChange(e.target.value) : () => null)}\r\n        onClick={onClick}\r\n        onFocus={disableTacHidding ? () => null : rdxTacHide}\r\n        onBlur={disableTacHidding ? () => null : rdxTacShow}\r\n        ref={input => getRef && getRef(input)}\r\n        {...inputProps}\r\n      />\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default connect(\r\n  state => ({}),\r\n  dispatch => ({\r\n    rdxTacShow: () => dispatch(tacShow()),\r\n    rdxTacHide: () => dispatch(tacHide())\r\n  })\r\n)(Input);\r\n","const TAC_SHOW = \"TAC_SHOW\";\r\nconst TAC_HIDE = \"TAC_HIDE\";\r\n\r\nconst tacShow = () => ({\r\n  type: TAC_SHOW\r\n});\r\n\r\nconst tacHide = () => ({\r\n  type: TAC_HIDE\r\n});\r\n\r\nexport { TAC_SHOW, TAC_HIDE, tacShow, tacHide };\r\n","import { theme } from \"../commonStyle\";\r\n\r\nconst btn = {\r\n  backgroundColor: theme.accent,\r\n  color: theme.fg,\r\n  width: \"304px\",\r\n  height: \"50px\",\r\n  borderRadius: \"8px\",\r\n  fontSize: \"1.2rem\",\r\n  fontFamily: \"AllertaStencil\",\r\n  borderStyle: \"none\",\r\n  \"&:active\": {\r\n    border: `1px solid ${theme.fg}`,\r\n    borderRadius: \"8px\"\r\n  },\r\n  \"&:focus\": {\r\n    border: `1px solid ${theme.fg}`,\r\n    borderRadius: \"8px\",\r\n    outline: \"none\"\r\n  }\r\n};\r\n\r\nexport { btn };\r\n","import Button from \"./Button\";\r\nexport default Button;\r\n","/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport React from \"react\"; // eslint-disable-line\r\n\r\nimport * as style from \"./styles\";\r\n\r\nconst Button = ({ text, onClick }) => (\r\n  <button css={style.btn} onClick={onClick}>\r\n    {text}\r\n  </button>\r\n);\r\n\r\nexport default Button;\r\n","import { theme, flex } from \"../commonStyle\";\r\n\r\nconst container = {};\r\n\r\nconst flexRow = {\r\n  ...flex,\r\n  zIndex: \"20\",\r\n  marginTop: \"15px\",\r\n  color: theme.fg\r\n};\r\n\r\nexport { container, flexRow };\r\n","import ImgCrop from \"./ImgCrop\";\r\nexport default ImgCrop;\r\n","/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport React, { Component } from \"react\"; // eslint-disable-line\r\nimport ReactCrop from \"react-image-crop\";\r\n\r\nimport { rotateImg90DegInPlace } from \"../../util/file-util\";\r\nimport * as style from \"./styles\";\r\n\r\nimport \"./img-crop.css\";\r\nimport \"react-image-crop/dist/ReactCrop.css\";\r\n\r\nclass ImgCrop extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      crop: {\r\n        aspect: 1,\r\n        x: 20,\r\n        y: 10,\r\n        height: 50\r\n      }\r\n    };\r\n\r\n    this.cropInfo = {};\r\n  }\r\n\r\n  getCroppedImg = (image, pixelCrop, fileName) => {\r\n    //debugger;\r\n    const canvas = document.createElement(\"canvas\");\r\n    canvas.width = pixelCrop.width;\r\n    canvas.height = pixelCrop.height;\r\n    const ctx = canvas.getContext(\"2d\");\r\n\r\n    ctx.drawImage(\r\n      image,\r\n      pixelCrop.x,\r\n      pixelCrop.y,\r\n      pixelCrop.width,\r\n      pixelCrop.height,\r\n      0,\r\n      0,\r\n      pixelCrop.width,\r\n      pixelCrop.height\r\n    );\r\n\r\n    //As Base64 string\r\n    return canvas.toDataURL(\"image/jpeg\");\r\n\r\n    // As a blob\r\n    // return new Promise((resolve, reject) => {\r\n    //   canvas.toBlob(file => {\r\n    //     file.name = fileName;\r\n    //     resolve(file);\r\n    //   }, 'image/jpeg');\r\n    // });\r\n  };\r\n\r\n  onRotate = () => {\r\n    if (this.cropInfo.image) {\r\n      rotateImg90DegInPlace(this.cropInfo.image, false);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"img-resize-mask\" />,\r\n        <div className=\"img-resize-container\">\r\n          <ReactCrop\r\n            src={this.props.dataUrl}\r\n            crop={this.state.crop}\r\n            keepSelection={true}\r\n            onChange={crop => {\r\n              this.setState({ crop });\r\n            }}\r\n            onComplete={(crop, pixelCrop) => {\r\n              this.cropInfo = { ...this.cropInfo, pixelCrop };\r\n              // console.log(\"cropInfo: \", this.cropInfo);\r\n            }}\r\n            onImageLoaded={(image, pixelCrop) => {\r\n              this.cropInfo = { image, pixelCrop };\r\n            }}\r\n          />\r\n          <div css={style.flexRow}>\r\n            <i className=\"fas fa-sync fa-2x\" onClick={() => this.onRotate()} />\r\n          </div>\r\n          <div css={style.flexRow}>\r\n            <div>\r\n              <button\r\n                className=\"btn btn-success btn-lg\"\r\n                onClick={() =>\r\n                  this.props.onSave(\r\n                    this.getCroppedImg(\r\n                      this.cropInfo.image,\r\n                      this.cropInfo.pixelCrop\r\n                    )\r\n                  )\r\n                }\r\n              >\r\n                <i className=\"fas fa-plus fa-sm\" />\r\n                Save\r\n              </button>\r\n              <button\r\n                className=\"btn btn-danger btn-lg\"\r\n                onClick={this.props.onCancel}\r\n              >\r\n                <i className=\"fas fa-times fa-sm\" />\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImgCrop;\r\n","/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport React, { Component, Fragment } from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport * as style from \"./styles\";\r\nimport { navigate } from \"../../../util/router\";\r\nimport routes from \"../../../config/routes\";\r\nimport { resizeImgFromFile, resizeImg } from \"../../../util/file-util\";\r\n\r\nimport { imgUpdate } from \"../../../redux/actions/imgActions\";\r\n\r\nimport BaseView from \"../BaseView\";\r\nimport Input from \"../../Input\";\r\nimport Button from \"../../Button\";\r\nimport ImgCrop from \"../../ImgCrop\";\r\n\r\nconst ShareButton = () => (\r\n  <Fragment>\r\n    <div css={style.divider}>{\"--OR--\"}</div>\r\n    <Button\r\n      text=\"Share Image Annonimously\"\r\n      onClick={() => navigate(routes.share)}\r\n    />\r\n  </Fragment>\r\n);\r\n\r\nconst ViewButton = ({ code }) => (\r\n  <Fragment>\r\n    <br />\r\n    <Button\r\n      text=\"View Image\"\r\n      onClick={() => navigate(routes.withWildCard(routes.loadImage, { code }))}\r\n    />\r\n  </Fragment>\r\n);\r\n\r\nconst ViewOrSharePrompt = ({ code, showViewBtn, onCodeChange }) => (\r\n  <div>\r\n    <Input\r\n      title=\"Have A View Code?\"\r\n      placeholder=\"Enter Code Here\"\r\n      onChange={onCodeChange}\r\n    />\r\n    {showViewBtn ? <ViewButton code={code} /> : <ShareButton />}\r\n  </div>\r\n);\r\n\r\nconst ShareOptions = ({ uploadInput, handleImage, askForImage }) => (\r\n  <div css={style.flex}>\r\n    <div css={style.label}>Choose How To Share</div>\r\n    <Button text=\"Share From File\" onClick={askForImage} />\r\n    <div css={style.divider}>{\"--OR--\"}</div>\r\n    <Button text=\"Take A Photo\" onClick={() => navigate(routes.camera)} />\r\n    <input\r\n      type=\"file\"\r\n      ref={uploadInput}\r\n      onChange={handleImage}\r\n      accept=\"image/*\"\r\n      hidden\r\n    />\r\n  </div>\r\n);\r\n\r\nclass Home extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showViewBtn: false,\r\n      code: \"\",\r\n      imageToCrop: null\r\n    };\r\n\r\n    this.uploadInput = React.createRef();\r\n\r\n    this.cropInfo = {};\r\n  }\r\n\r\n  onCodeChange = code => this.setState({ code, showViewBtn: !!code });\r\n\r\n  // preprocesses the image before cropping begins.\r\n  handleImage = e => {\r\n    if (e.target.files.length > 0) {\r\n      const file = e.target.files[0];\r\n      //console.log(\"image\", file);\r\n      // resize the image to max 420x420\r\n      resizeImgFromFile(file).then(dataUrl =>\r\n        this.setState({ imageToCrop: dataUrl })\r\n      );\r\n    }\r\n  };\r\n\r\n  // trigers the imput element. and opens the file prompt.\r\n  askForImage = () => {\r\n    this.uploadInput.current.click();\r\n  };\r\n\r\n  handleCroppedImage = dataUrl => {\r\n    //console.log(\"cropped img: \", dataUrl);\r\n    resizeImg(dataUrl, 420, 420).then(dataUrlLg => {\r\n      this.setState(\r\n        {\r\n          imageToCrop: null\r\n        },\r\n        () => {\r\n          this.props.rdxUpdateImg(dataUrlLg);\r\n          navigate(routes.options);\r\n        }\r\n      );\r\n    });\r\n  };\r\n\r\n  handleCropCancel = () => {\r\n    // this is BAD! but solves the problem of not being able to load an\r\n    // img after you cancel a crop\r\n    window.location.reload(true);\r\n  };\r\n\r\n  render() {\r\n    const { showViewBtn, code, imageToCrop } = this.state;\r\n    //console.log(\"image-render\", imageToCrop);\r\n    return (\r\n      <Fragment>\r\n        {imageToCrop && (\r\n          <ImgCrop\r\n            dataUrl={this.state.imageToCrop}\r\n            onSave={dataUrl => this.handleCroppedImage(dataUrl)}\r\n            onCancel={() => this.handleCropCancel()}\r\n          />\r\n        )}\r\n\r\n        <BaseView showLogo>\r\n          <Switch>\r\n            <Route\r\n              path={routes.share}\r\n              render={props => (\r\n                <ShareOptions\r\n                  uploadInput={this.uploadInput}\r\n                  handleImage={this.handleImage}\r\n                  askForImage={this.askForImage}\r\n                />\r\n              )}\r\n            />\r\n            <Route\r\n              exact\r\n              path={routes.home}\r\n              render={props => (\r\n                <ViewOrSharePrompt\r\n                  showViewBtn={showViewBtn}\r\n                  code={code}\r\n                  onCodeChange={this.onCodeChange}\r\n                />\r\n              )}\r\n            />\r\n          </Switch>\r\n        </BaseView>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  state => ({}),\r\n  dispatch => ({\r\n    rdxUpdateImg: dataUrl => dispatch(imgUpdate(dataUrl))\r\n  })\r\n)(Home);\r\n","import HomeView from \"./HomeView\";\r\n\r\nexport default HomeView;\r\n","import { theme, flex } from \"../../commonStyle\";\r\n\r\nconst img = {\r\n  img: {\r\n    border: \"1px solid gray\",\r\n    borderRadius: \"20px\"\r\n  }\r\n};\r\n\r\nconst label = {\r\n  ...flex,\r\n  justifyContent: \"center\",\r\n  textAlign: \"center\",\r\n  padding: \"5px\",\r\n  color: theme.fg\r\n};\r\n\r\nconst range = {\r\n  ...flex,\r\n  width: \"304px\",\r\n  padding: \"5px\",\r\n  margin: \"10px 0px\"\r\n};\r\n\r\nexport { img, range, label };\r\n","const capitalize = str => str.charAt(0).toUpperCase() + str.slice(1);\r\nconst strReplaceAt = (str, i, replacement) =>\r\n  str.substr(0, i) + replacement + str.substr(i + replacement.length);\r\n\r\nconst formatMinSec = sec => {\r\n  let result = `${sec} sec`;\r\n  if (sec > 60) {\r\n    const _sec = sec % 60;\r\n    const _min = Math.floor(sec / 60);\r\n    result = `${_min} min ${_sec} sec`;\r\n  }\r\n  return result;\r\n};\r\n\r\nexport { capitalize, strReplaceAt, formatMinSec };\r\n","const imgSelector = rdxState =>\r\n  rdxState && rdxState.imgReducer && rdxState.imgReducer.img;\r\n\r\nconst imgViewDurationSelector = rdxState =>\r\n  rdxState && rdxState.imgReducer && rdxState.imgReducer.viewDuration;\r\n\r\nconst payloadSelector = rdxState =>\r\n  rdxState &&\r\n  rdxState.imgReducer && {\r\n    Img: rdxState.imgReducer.img,\r\n    ViewDuration: rdxState.imgReducer.viewDuration\r\n  };\r\n\r\nexport default imgSelector;\r\n\r\nexport { imgSelector, imgViewDurationSelector, payloadSelector };\r\n","const appBaseUrl = \"https://localhost:3000\";\r\nconst apiBaseUrl = \"https://localhost:5000/api\";\r\n\r\nconst config = {\r\n  isDebugMode: true,\r\n  useMockData: true,\r\n  baseUrlFE: `${appBaseUrl}`,\r\n  baseUrlBE: `${apiBaseUrl}`,\r\n  api: {\r\n    code: {\r\n      path: `${apiBaseUrl}/code`,\r\n      method: \"POST\"\r\n    },\r\n    img: {\r\n      path: `${apiBaseUrl}/img`,\r\n      method: \"GET\"\r\n    }\r\n  }\r\n};\r\n\r\nexport default config;\r\n","import devConfig from \"./config.dev\";\r\nimport prodConfig from \"./config.prod\";\r\n\r\nconst config = //devConfig;\r\n  process.env.REACT_APP_STAGE === \"production\" ? prodConfig : devConfig;\r\n\r\nexport default config;\r\n","const appBaseUrl = \"https://seemeonce.net\";\r\nconst apiBaseUrl = \"https://see-me-once.azurewebsites.net/api\";\r\n\r\nconst config = {\r\n  isDebugMode: false,\r\n  useMockData: false,\r\n  baseUrlFE: `${appBaseUrl}`,\r\n  baseUrlBE: `${apiBaseUrl}`,\r\n  api: {\r\n    code: {\r\n      path: `${apiBaseUrl}/ImagePush?code=IaS1Li5YcJP0TEwVuH7YMVVsIzZabevrNU1LtVMVeELUrCsCYMW8SQ==`,\r\n      method: \"POST\"\r\n    },\r\n    img: {\r\n      path: `${apiBaseUrl}/ImagePull?code=DujTlQjiGXrSNvOpe7rF7AF/S8o5qS390hq5ZHbmzTJKalbl9dB21A==`,\r\n      method: \"GET\"\r\n    }\r\n  }\r\n};\r\n\r\nexport default config;\r\n","/* eslint-disable no-console */\r\n\r\n// import Raven from \"raven-js\";\r\nimport config from \"../config/config\";\r\n\r\nconst init = () => {\r\n  if (!config.isDebugMode) {\r\n    // Raven.config(\"https://b1568d2cdd954d828772bc84adcc7086@sentry.io/1273015\", {\r\n    //   release: \"0.0.1\",\r\n    //   environment: \"dev\"\r\n    // }).install();\r\n  }\r\n};\r\n\r\nconst setUserContext = (id, email) => {\r\n  if (config.isDebugMode) {\r\n    console.log(\"logger-user-context\", { id, email });\r\n  } else {\r\n    //Raven.setUserContext({ id, email });\r\n  }\r\n};\r\n\r\nconst exception = error => {\r\n  if (config.isDebugMode) {\r\n    console.log(\"exception >> \", exception);\r\n  } else {\r\n    //Raven.captureException(error);\r\n  }\r\n};\r\n\r\nconst info = msg => {\r\n  if (config.isDebugMode) {\r\n    console.log(\"info >> \", msg);\r\n  } else {\r\n    //Raven.captureMessage(msg, { level: \"info\" });\r\n  }\r\n};\r\n\r\nconst warning = msg => {\r\n  if (config.isDebugMode) {\r\n    console.log(\"warning >> \", msg);\r\n  } else {\r\n    //Raven.captureMessage(msg, { level: \"warning\" });\r\n  }\r\n};\r\n\r\nconst error = msg => {\r\n  if (config.isDebugMode) {\r\n    console.log(\"error >> \", msg);\r\n  } else {\r\n    //Raven.captureMessage(msg, { level: \"error\" });\r\n  }\r\n};\r\n\r\nexport default {\r\n  init,\r\n  setUserContext,\r\n  exception,\r\n  info,\r\n  warning,\r\n  error\r\n};\r\n","import axios from \"axios\";\r\nimport logger from \"../services/logging-service\";\r\n\r\naxios.interceptors.response.use(null, error => {\r\n  const clientError =\r\n    error.response &&\r\n    error.response.status >= 400 &&\r\n    error.response.status < 500;\r\n\r\n  if (!clientError) {\r\n    logger.exception(error);\r\n  }\r\n\r\n  return Promise.reject(error);\r\n});\r\n\r\nexport default {\r\n  get: axios.get,\r\n  post: axios.post,\r\n  put: axios.put,\r\n  delete: axios.delete\r\n};\r\n","const saveToLocalStorage = (key, data) => {\r\n  try {\r\n    if (key && data) {\r\n      localStorage.setItem(key, JSON.stringify(data));\r\n    }\r\n  } catch (error) {\r\n    console.warning(`[browser-util.saveToLocalStorage]: ${error}`);\r\n  }\r\n};\r\n\r\nconst loadFromLocalStorage = key => {\r\n  let result = undefined;\r\n\r\n  try {\r\n    if (key) {\r\n      const data = localStorage.getItem(key);\r\n      if (data) {\r\n        result = JSON.parse(data);\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.warning(`[browser-util.loadFromLocalStorage]: ${error}`);\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\nexport { saveToLocalStorage, loadFromLocalStorage };\r\n","import http from \"../util/http-util\";\r\nimport config from \"../config/config\";\r\nimport log from \"./logging-service\";\r\nimport { loadFromLocalStorage, saveToLocalStorage } from \"../util/browser-util\";\r\n\r\n// eslint-disable-next-line no-unused-vars\r\nconst mockCode = payload =>\r\n  new Promise((resolve, reject) =>\r\n    setTimeout(() => {\r\n      const code = `FAS99XX000B${Math.floor(Math.random() * 10000)}`;\r\n      const appData = loadFromLocalStorage(\"see_me_once\") || {};\r\n\r\n      appData[code] = payload;\r\n      saveToLocalStorage(\"see_me_once\", appData);\r\n      resolve({ data: { code } });\r\n    }, 1000)\r\n  );\r\n\r\nconst getCode = async payload => {\r\n  let result = null;\r\n  // console.log(\"[codeService.getCode()].payload\", payload);\r\n  let response = null;\r\n  if (payload && payload.Img && payload.ViewDuration) {\r\n    if (!config.useMockData) {\r\n      response = await http.post(\r\n        config.api.code.path,\r\n        JSON.stringify(payload),\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\"\r\n          }\r\n        }\r\n      );\r\n    } else {\r\n      response = await mockCode(payload);\r\n    }\r\n    //debugger;\r\n\r\n    if (response && response.data && response.data.code) {\r\n      result = response.data.code;\r\n    }\r\n  } else {\r\n    log.warning(\"[codeService.getCode()]: invalid payload\");\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\nexport { getCode };\r\n","import { getCode as fetchCode } from \"../../services/codeSerice\";\r\nimport { payloadSelector } from \"../selectors/imgSelectors\";\r\n\r\nconst GET_CODE_START = \"GET_CODE_START\";\r\nconst GET_CODE_COMPLETE = \"GET_CODE_COMPLETE\";\r\nconst GET_CODE_ERROR = \"GET_CODE_ERROR\";\r\nconst CLEAR_CODE = \"CLEAR_CODE\";\r\n\r\nconst getCode = () => {\r\n  return async (dispatch, getState) => {\r\n    dispatch(getCodeStart());\r\n\r\n    const rdxState = getState();\r\n    const payload = payloadSelector(rdxState);\r\n\r\n    // console.log(\"payload\", payload);\r\n\r\n    const code = await fetchCode(payload);\r\n\r\n    if (code) {\r\n      dispatch(getCodeComplete(code));\r\n    } else {\r\n      dispatch(getCodeError(\"Failed to get Code!\"));\r\n    }\r\n  };\r\n};\r\n\r\nconst getCodeStart = () => ({\r\n  type: GET_CODE_START\r\n});\r\n\r\nconst getCodeComplete = code => ({\r\n  type: GET_CODE_COMPLETE,\r\n  code\r\n});\r\n\r\nconst getCodeError = msg => ({\r\n  type: GET_CODE_ERROR,\r\n  msg\r\n});\r\n\r\nconst clearCode = () => ({\r\n  type: CLEAR_CODE\r\n});\r\n\r\nexport {\r\n  GET_CODE_START,\r\n  GET_CODE_COMPLETE,\r\n  GET_CODE_ERROR,\r\n  CLEAR_CODE,\r\n  getCode,\r\n  clearCode\r\n};\r\n","/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport React, { PureComponent, Fragment } from \"react\"; // eslint-disable-line\r\nimport { connect } from \"react-redux\";\r\n\r\nimport * as style from \"./styles\";\r\n\r\nimport { navigate, routes, navigateWithLoadScreen } from \"../../../util/router\";\r\nimport { formatMinSec } from \"../../../util/text-util\";\r\n\r\nimport {\r\n  imgSelector,\r\n  imgViewDurationSelector\r\n} from \"../../../redux/selectors/imgSelectors\";\r\n\r\nimport { imgSetViewDuration } from \"../../../redux/actions/imgActions\";\r\nimport { getCode } from \"../../../redux/actions/codeActions\";\r\n\r\nimport BaseView from \"../BaseView\";\r\nimport Button from \"../../Button\";\r\n\r\nclass OptionsView extends PureComponent {\r\n  toSeconds = ticks => ticks * 3;\r\n  fromSeconds = sec => sec / 3;\r\n\r\n  handleGetCode = () => {\r\n    this.props.rdxGetCode();\r\n    navigateWithLoadScreen(routes.codes);\r\n  };\r\n\r\n  render() {\r\n    const { rdxPhoto, rdxViewDuration, rdxSetViewDuration } = this.props;\r\n    if (!rdxPhoto) {\r\n      navigate(routes.share);\r\n    }\r\n    return (\r\n      <div>\r\n        <BaseView>\r\n          <div css={style.img}>\r\n            <img src={rdxPhoto} height=\"300\" width=\"300\" alt=\"\" />\r\n          </div>\r\n          <div css={style.label}>\r\n            How long will the image stay on the screen before being destroyed?\r\n          </div>\r\n          <div css={style.range}>\r\n            <input\r\n              className=\"custom-range \"\r\n              type=\"range\"\r\n              name=\"duration\"\r\n              min=\"1\"\r\n              max=\"40\"\r\n              step=\"1\"\r\n              value={this.fromSeconds(rdxViewDuration)}\r\n              onChange={e => rdxSetViewDuration(this.toSeconds(e.target.value))}\r\n            />\r\n            {formatMinSec(rdxViewDuration)}\r\n          </div>\r\n          <Button text=\"Get Share Link\" onClick={this.handleGetCode} />\r\n        </BaseView>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  state => ({\r\n    rdxPhoto: imgSelector(state),\r\n    rdxViewDuration: imgViewDurationSelector(state)\r\n  }),\r\n  dispatch => ({\r\n    rdxSetViewDuration: duration => dispatch(imgSetViewDuration(duration)),\r\n    rdxGetCode: payload => dispatch(getCode(payload))\r\n  })\r\n)(OptionsView);\r\n","import OptionsView from \"./OptionsView\";\r\nexport default OptionsView;\r\n","import { theme, flex } from \"../../commonStyle\";\r\n\r\nconst img = {\r\n  ...flex,\r\n  position: \"relative\",\r\n  img: {\r\n    border: \"1px solid gray\",\r\n    borderRadius: \"20px\"\r\n  }\r\n};\r\n\r\nconst label = {\r\n  ...flex,\r\n  justifyContent: \"center\",\r\n  textAlign: \"center\",\r\n  padding: \"5px\",\r\n  color: theme.fg\r\n};\r\n\r\nconst range = {\r\n  ...flex,\r\n  width: \"304px\",\r\n  padding: \"5px\",\r\n  margin: \"10px 0px\"\r\n};\r\n\r\nconst copied = {\r\n  minHeight: \"36px\",\r\n  width: \"100%\",\r\n  textAlign: \"center\",\r\n  fontSize: \"1rem\",\r\n  fontStyle: \"italic\",\r\n  color: \"orange\",\r\n  padding: \"5px\"\r\n};\r\n\r\nconst time = {\r\n  position: \"absolute\",\r\n  right: \"15px\",\r\n  bottom: \"10px\",\r\n  color: theme.fg,\r\n  borderRadius: \"30%\",\r\n  padding: \"2px\",\r\n  paddingTop: \"0px\",\r\n  textAlign: \"center\",\r\n  backgroundColor: \" rgba(0, 0, 0, 0.20)\"\r\n};\r\n\r\nexport { img, range, label, copied, time };\r\n","export const ChangeThemeColor = color => {\r\n  document\r\n    .querySelector(\"meta[name=theme-color]\")\r\n    .setAttribute(\"content\", color);\r\n  document\r\n    .querySelector(\"meta[name=msapplication-navbutton-color]\")\r\n    .setAttribute(\"content\", color);\r\n  document\r\n    .querySelector(\"meta[name=apple-mobile-web-app-status-bar-style]\")\r\n    .setAttribute(\"content\", color);\r\n};\r\n\r\nexport const deselect = () => {\r\n  const selection =\r\n    \"getSelection\" in window\r\n      ? window.getSelection()\r\n      : \"selection\" in document\r\n      ? document.selection\r\n      : null;\r\n  if (\"removeAllRanges\" in selection) selection.removeAllRanges();\r\n  else if (\"empty\" in selection) selection.empty();\r\n};\r\n","const codeSelector = rdxState =>\r\n  rdxState && rdxState.codeReducer && rdxState.codeReducer.code;\r\n\r\nconst codeIsLoadingSelector = rdxState =>\r\n  rdxState && rdxState.codeReducer && rdxState.codeReducer.isLoading;\r\n\r\nexport default codeSelector;\r\n\r\nexport { codeSelector, codeIsLoadingSelector };\r\n","/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport React, { PureComponent, Fragment } from \"react\"; // eslint-disable-line\r\nimport { connect } from \"react-redux\";\r\n\r\nimport * as style from \"./styles\";\r\n\r\nimport { navigate, routes } from \"../../../util/router\";\r\nimport { deselect } from \"../../../util/dom-util\";\r\nimport { formatMinSec } from \"../../../util/text-util\";\r\nimport config from \"../../../config/config\";\r\n\r\nimport {\r\n  imgSelector,\r\n  imgViewDurationSelector\r\n} from \"../../../redux/selectors/imgSelectors\";\r\nimport { codeSelector } from \"../../../redux/selectors/codeSelectors\";\r\n\r\nimport { clearCode } from \"../../../redux/actions/codeActions\";\r\nimport { clearImg } from \"../../../redux/actions/imgActions\";\r\n\r\nimport BaseView from \"../BaseView\";\r\nimport Button from \"../../Button\";\r\nimport Input from \"../../Input\";\r\n\r\nclass CodeView extends PureComponent {\r\n  state = { copied: \"\" };\r\n  copyToClipboard = (ref, name) => {\r\n    ref.select();\r\n    document.execCommand(\"copy\");\r\n    deselect();\r\n    this.setState({ copied: `Your ${name} was coppied to the clipboard!` });\r\n  };\r\n\r\n  inputStyle = {\r\n    fontSize: \"1.2rem\",\r\n    fontStyle: \"italic\",\r\n    fontWeight: \"bold\"\r\n  };\r\n\r\n  render() {\r\n    const { rdxPhoto, rdxCode, rdxViewDuration } = this.props;\r\n    if (!rdxPhoto || !rdxCode) {\r\n      navigate(routes.home);\r\n    }\r\n    const { copied } = this.state;\r\n    const url = `${config.baseUrlFE}${routes.withWildCard(routes.loadImage, {\r\n      code: rdxCode\r\n    })}`;\r\n    return (\r\n      <div>\r\n        <BaseView>\r\n          <div css={style.img}>\r\n            <div css={style.time}>{formatMinSec(rdxViewDuration)}</div>\r\n            <img src={rdxPhoto} height=\"300\" width=\"300\" alt=\"\" />\r\n          </div>\r\n          <Input\r\n            title=\"Your Share Code\"\r\n            size=\"sm\"\r\n            inputStyle={this.inputStyle}\r\n            value={rdxCode}\r\n            onClick={e => this.copyToClipboard(this.codeRef, \"Code\")}\r\n            getRef={ref => (this.codeRef = ref)}\r\n            disableTacHidding\r\n          />\r\n          <Input\r\n            title=\"Your Share Link\"\r\n            size=\"sm\"\r\n            inputStyle={this.inputStyle}\r\n            value={url}\r\n            onClick={e => this.copyToClipboard(this.urlRef, \"Share Link\")}\r\n            getRef={ref => (this.urlRef = ref)}\r\n            disableTacHidding\r\n          />\r\n          <div css={style.copied}>{copied}</div>\r\n          <Button\r\n            text=\"Share Another Image\"\r\n            onClick={() => navigate(routes.share)}\r\n          />\r\n        </BaseView>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  state => ({\r\n    rdxPhoto: imgSelector(state),\r\n    rdxCode: codeSelector(state),\r\n    rdxViewDuration: imgViewDurationSelector(state)\r\n  }),\r\n  dispatch => ({\r\n    rdxClearImg: () => dispatch(clearImg()),\r\n    rdxClearCode: () => dispatch(clearCode())\r\n  })\r\n)(CodeView);\r\n","import CodeView from \"./CodeView\";\r\nexport default CodeView;\r\n","const toggle = {\r\n  color: \"gray\",\r\n  textAlign: \"center\",\r\n  marginBottom: \"10px\",\r\n  span: {\r\n    padding: \"5px\"\r\n  }\r\n};\r\n\r\nconst toggleActive = {\r\n  color: \"orange\"\r\n};\r\n\r\nexport { toggle, toggleActive };\r\n","/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport React, { Component, Fragment } from \"react\"; // eslint-disable-line\r\nimport { connect } from \"react-redux\";\r\nimport Camera, { FACING_MODES, IMAGE_TYPES } from \"react-html5-camera-photo\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport log from \"../../../services/logging-service\";\r\n\r\nimport * as style from \"./styles\";\r\n\r\nimport { routes } from \"../../../util/router\";\r\nimport { imgSelector } from \"../../../redux/selectors/imgSelectors\";\r\nimport { imgUpdate } from \"../../../redux/actions/imgActions\";\r\n\r\nimport \"react-html5-camera-photo/build/css/index.css\";\r\nimport \"./camera.css\";\r\n\r\nconst Toggle = ({ mode, onClick }) => {\r\n  return (\r\n    <div css={style.toggle}>\r\n      <span\r\n        css={mode === FACING_MODES.USER && style.toggleActive}\r\n        onClick={() => onClick(FACING_MODES.USER)}\r\n      >\r\n        FRONT\r\n      </span>\r\n      <span>|</span>\r\n      <span\r\n        css={mode === FACING_MODES.ENVIRONMENT && style.toggleActive}\r\n        onClick={() => onClick(FACING_MODES.ENVIRONMENT)}\r\n      >\r\n        BACK\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nclass CameraView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { cameraOn: true, cameraFacingMode: FACING_MODES.ENVIRONMENT };\r\n  }\r\n\r\n  onTakePhoto(dataUri) {\r\n    //console.log('photo taken', dataUri);\r\n    this.setState({ cameraOn: false }, () => this.props.rdxUpdateImg(dataUri));\r\n  }\r\n\r\n  onCameraError(error) {\r\n    log.exception(error);\r\n  }\r\n\r\n  componentDidMount() {\r\n    // changing the theme to black makes sure the title bar is black like the background.\r\n    //ChangeThemeColor(\"#000\");\r\n  }\r\n\r\n  render() {\r\n    // console.log(\"camera-props\", this.props);\r\n    const { cameraOn, cameraFacingMode } = this.state;\r\n    const dataUri = this.props.rdxImg;\r\n\r\n    return (\r\n      <div className=\"oui-camera-container\">\r\n        {cameraOn ? (\r\n          <Fragment>\r\n            {(window.isMobile || window.isApple) && (\r\n              <Toggle\r\n                mode={cameraFacingMode}\r\n                onClick={mode => this.setState({ cameraFacingMode: mode })}\r\n              />\r\n            )}\r\n            <Camera\r\n              onTakePhoto={dataUri => {\r\n                this.onTakePhoto(dataUri);\r\n              }}\r\n              onCameraError={error => {\r\n                this.onCameraError(error);\r\n              }}\r\n              idealFacingMode={cameraFacingMode}\r\n              idealResolution={{ width: 420, height: 420 }}\r\n              // idealResolution={{ width: 640, height: 480 }}\r\n              imageType={IMAGE_TYPES.JPG}\r\n              imageCompression={0.97}\r\n              isMaxResolution={false}\r\n              isImageMirror={false}\r\n              isDisplayStartCameraError={true}\r\n              sizeFactor={1}\r\n              // onCameraStart={stream => {\r\n              // \t//this.onCameraStart(stream);\r\n              // }}\r\n              onCameraStop={() => {\r\n                //ChangeThemeColor(\"#D80000\");\r\n                // clear up all timers set by this component before it's unmounted\r\n                // var id = window.setTimeout(function() {}, 0);\r\n                // console.log('clearing timers, starting at', id);\r\n                // while (id && id >= 0) {\r\n                // \t//window.clearTimeout(id--);\r\n                // }\r\n                //this.props.onReady();\r\n              }}\r\n            />\r\n          </Fragment>\r\n        ) : (\r\n          <div className=\"react-html5-camera-photo\">\r\n            <img src={dataUri} alt=\"\" />\r\n            <div className=\"oui-camera-preview-ctrls\">\r\n              <i\r\n                className=\"fas fa-4x fa-undo-alt\"\r\n                onClick={() => this.setState({ cameraOn: true })}\r\n              />\r\n              <Link to={{ pathname: routes.options }}>\r\n                <i className=\"far fa-4x fa-check-circle\" />\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  state => ({\r\n    rdxImg: imgSelector(state)\r\n  }),\r\n  dispatch => ({\r\n    rdxUpdateImg: dataUrl => dispatch(imgUpdate(dataUrl))\r\n  })\r\n)(CameraView);\r\n","import CameraView from \"./CameraView\";\r\nexport default CameraView;\r\n","const img = {\r\n  width: \"100%\",\r\n  minWidth: \"300px\",\r\n  maxWidth: \"420px\",\r\n  minHeight: \"300px\",\r\n  maxHeight: \"420px\",\r\n  borderRadius: \"10px\",\r\n  border: \"1px solid #474747\",\r\n  marginBottom: \"2px\"\r\n};\r\n\r\nconst bar = {\r\n  width: \"100%\",\r\n  maxWidth: \"420px\"\r\n  //   marginBottom: \"50px\"\r\n};\r\n\r\nconst time = {\r\n  marginTop: \"20px\",\r\n  textAlign: \"center\",\r\n  fontSize: \"2rem\",\r\n  color: \"orange\"\r\n};\r\n\r\nconst screenOverlay = {\r\n  position: \"fixed\",\r\n  minHeight: \"100vh\",\r\n  minWidth: \"100vw\",\r\n  width: \"100%\",\r\n  height: \"100%\",\r\n  zIndex: 10000\r\n};\r\n\r\nexport { img, bar, time, screenOverlay };\r\n","import { loadFromLocalStorage, saveToLocalStorage } from \"../util/browser-util\";\r\nimport http from \"../util/http-util\";\r\nimport config from \"../config/config\";\r\nimport log from \"./logging-service\";\r\n\r\n// eslint-disable-next-line no-unused-vars\r\nconst mockGetImg = code => {\r\n  return new Promise((resolve, reject) => {\r\n    const appData = loadFromLocalStorage(\"see_me_once\");\r\n    //console.log(\"mockGetImg\", appData);\r\n    if (appData && code in appData) {\r\n      const data = appData[code];\r\n      const img = {\r\n        data: {\r\n          img: data.Img,\r\n          viewDuration: data.ViewDuration\r\n        }\r\n      };\r\n      //console.log(\"mockGetImg->img\", img);\r\n      setTimeout(() => resolve(img), 1000);\r\n\r\n      //delete appData[code];\r\n\r\n      saveToLocalStorage(\"see_me_once\", appData);\r\n    } else {\r\n      reject(\"Image Not Found!\");\r\n    }\r\n  });\r\n};\r\n\r\nconst getImgData = async code => {\r\n  let result = null;\r\n  if (code) {\r\n    //debugger;\r\n    let response = null;\r\n    if (!config.useMockData) {\r\n      response = await http.get(`${config.api.img.path}&key=${code}`);\r\n    } else {\r\n      response = await mockGetImg(code);\r\n    }\r\n    // console.log(\"fetchImg\", response);\r\n    if (\r\n      response &&\r\n      response.data &&\r\n      response.data.img &&\r\n      response.data.viewDuration\r\n    ) {\r\n      result = {\r\n        img: response.data.img,\r\n        viewTime: response.data.viewDuration\r\n      };\r\n    }\r\n  } else {\r\n    log.warning(\"[imgService.getImgData()]: no code\");\r\n  }\r\n  return result;\r\n};\r\n\r\nexport { getImgData };\r\n","import { getImgData } from \"../../services/imgService\";\r\n\r\nconst IMG_LOAD_START = \"IMG_LOAD_START\";\r\nconst IMG_LOAD_COMPLETE = \"IMG_LOAD_COMPLETE\";\r\nconst IMG_LOAD_ERROR = \"IMG_LOAD_ERROR\";\r\nconst IMG_COUNT_DOWN = \"IMG_COUNT_DOWN\";\r\nconst CLEAR_LOADED_IMG = \"CLEAR_LOADED_IMG\";\r\n\r\nconst imgLoadStart = () => ({\r\n  type: IMG_LOAD_START,\r\n  isLoading: true\r\n});\r\n\r\nconst imgLoadComplete = payload => ({\r\n  type: IMG_LOAD_COMPLETE,\r\n  isLoading: false,\r\n  img: payload.img,\r\n  viewTime: payload.viewTime\r\n});\r\n\r\nconst imgLoadError = errorMsg => ({\r\n  type: IMG_LOAD_ERROR,\r\n  isLoading: false,\r\n  errorMsg\r\n});\r\n\r\nconst clearLoadedImg = () => ({\r\n  type: CLEAR_LOADED_IMG\r\n});\r\n\r\nconst imgUpdateCountdown = viewTime => ({\r\n  type: IMG_COUNT_DOWN,\r\n  viewTime\r\n});\r\n\r\nconst imgCountDown = elapsedSeconds => {\r\n  return (dispatch, getState) => {\r\n    const rdxState = getState();\r\n    if (rdxState.viewImgReducer) {\r\n      const viewTime = rdxState.viewImgReducer.viewTime;\r\n      const remainingTime = viewTime - elapsedSeconds;\r\n      if (viewTime > 0) {\r\n        if (remainingTime > 0) {\r\n          dispatch(imgUpdateCountdown(remainingTime));\r\n        } else {\r\n          dispatch(imgUpdateCountdown(0));\r\n        }\r\n      } else {\r\n        dispatch(clearLoadedImg());\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nconst fetchImage = code => {\r\n  return async dispatch => {\r\n    dispatch(imgLoadStart());\r\n    try {\r\n      const payload = await getImgData(code);\r\n      //console.log(\"[fetchImage] -> payload:\", payload);\r\n\r\n      if (payload) {\r\n        //console.log(\"[fetchImage] -> if:\", payload);\r\n        dispatch(imgLoadComplete(payload));\r\n      } else {\r\n        dispatch(imgLoadError(\"Failed to fetch Image!\"));\r\n      }\r\n    } catch (error) {\r\n      dispatch(imgLoadError(\"Failed to fetch Image!\"));\r\n      console.log(\"[viewImgActions.fetchImage]:\", error);\r\n    }\r\n  };\r\n};\r\n\r\nconst actionsTypes = {\r\n  IMG_LOAD_START,\r\n  IMG_LOAD_COMPLETE,\r\n  IMG_LOAD_ERROR,\r\n  IMG_COUNT_DOWN,\r\n  CLEAR_LOADED_IMG\r\n};\r\n\r\nconst actions = {\r\n  fetchImage,\r\n  imgCountDown\r\n};\r\n\r\nexport { actionsTypes, actions };\r\n","const selectViewImg = rdxState => {\r\n  if (rdxState && rdxState.viewImgReducer) {\r\n    const state = rdxState.viewImgReducer;\r\n    const progress =\r\n      state.initialViewTime > 0\r\n        ? (100 * state.viewTime) / state.initialViewTime\r\n        : 0;\r\n    return {\r\n      img: state.img,\r\n      viewTime: state.viewTime,\r\n      progress\r\n    };\r\n  }\r\n};\r\n\r\nexport { selectViewImg };\r\n","/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport React, { PureComponent, Fragment } from \"react\"; // eslint-disable-line\r\nimport { connect } from \"react-redux\";\r\n\r\nimport * as style from \"./styles\";\r\n\r\nimport { navigate, routes } from \"../../../util/router\";\r\nimport { formatMinSec } from \"../../../util/text-util\";\r\n\r\nimport { actions } from \"../../../redux/actions/viewImgActions\";\r\nimport { selectViewImg } from \"../../../redux/selectors/viewImgSelectors\";\r\n\r\nimport BaseView from \"../BaseView\";\r\n\r\nconst getWidth = () =>\r\n  window.innerWidth ||\r\n  document.documentElement.clientWidth ||\r\n  document.body.clientWidth;\r\n\r\nclass ImageView extends PureComponent {\r\n  state = {\r\n    timer: null,\r\n    windowWidth: getWidth() > 420 ? 420 : getWidth()\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { img, viewTime } = this.props.rdxPayload;\r\n    if (!img || viewTime <= 0) {\r\n      navigate(routes.home);\r\n    } else {\r\n      this.setState({\r\n        windowWidth: getWidth() > 420 ? 420 : getWidth()\r\n      });\r\n      const timer = setInterval(() => {\r\n        this.props.rdxCountDown(1);\r\n      }, 1000);\r\n      this.setState({ timer });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { rdxPayload } = this.props;\r\n    const { img, progress, viewTime } = rdxPayload;\r\n\r\n    // console.log(\"viewImage\", rdxPayload);\r\n    if (!img || viewTime <= 0) {\r\n      clearInterval(this.state.timer);\r\n      navigate(routes.home);\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        <div css={style.screenOverlay} />\r\n        <BaseView tacBottom>\r\n          <div css={style.img}>\r\n            <img src={img} alt=\"\" width={this.state.windowWidth} />\r\n          </div>\r\n          <div css={style.bar}>\r\n            <div className=\"progress\">\r\n              <div className=\"progress-bar\" style={{ width: `${progress}%` }} />\r\n            </div>\r\n            <div css={style.time}>{formatMinSec(viewTime)}</div>\r\n          </div>\r\n        </BaseView>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  state => ({\r\n    rdxPayload: selectViewImg(state)\r\n  }),\r\n  dispatch => ({\r\n    rdxCountDown: elapsedTime => dispatch(actions.imgCountDown(elapsedTime))\r\n  })\r\n)(ImageView);\r\n","import ImageView from \"./ImageView\";\r\nexport default ImageView;\r\n","import { theme, flex } from \"../../commonStyle\";\r\n\r\nconst container = {\r\n  ...flex,\r\n  justifyContent: \"center\",\r\n  backgroundColor: theme.bg,\r\n  height: \"100vh\",\r\n  color: theme.fg,\r\n  fontSize: \"calc(16px + 2vmin)\",\r\n  fontFamily: \"AllertaStencil\"\r\n};\r\n\r\nexport { container };\r\n","import LoadingView from \"./LoadingView\";\r\nexport default LoadingView;\r\n","/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport React, { Fragment } from \"react\"; // eslint-disable-line\r\nimport { connect } from \"react-redux\";\r\n\r\nimport * as style from \"./styles\";\r\n\r\nimport { routes, navigate, getLocationState } from \"../../../util/router\";\r\n\r\nimport { isLoadingSelector } from \"../../../redux/selectors/loadingSelectors\";\r\n\r\nimport spinner from \"../../../assets/img/dual-ring-spinner-0.5s-200px.svg\";\r\n\r\nconst LoadingView = props => {\r\n  if (!props.rdxIsLoading) {\r\n    const locationState = getLocationState();\r\n    if (locationState && locationState.next) {\r\n      navigate(locationState.next);\r\n    } else {\r\n      navigate(routes.home);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div css={style.container}>\r\n      <div>Loading..</div>\r\n      <div>\r\n        <img src={spinner} alt=\"\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(state => ({\r\n  rdxIsLoading: isLoadingSelector(state)\r\n}))(LoadingView);\r\n","const isLoadingSelector = rdxState =>\r\n  rdxState &&\r\n  ((rdxState.codeReducer && rdxState.codeReducer.isLoading) ||\r\n    (rdxState.viewImgReducer && rdxState.viewImgReducer.isLoading));\r\n\r\nexport { isLoadingSelector };\r\n","import { theme, flex } from \"../../commonStyle\";\r\n\r\nconst container = {\r\n  ...flex,\r\n  backgroundColor: theme.bg,\r\n  height: \"100vh\",\r\n  width: \"100%\"\r\n};\r\n\r\nexport { container };\r\n","import LoadImage from \"./LoadImage\";\r\nexport default LoadImage;\r\n","/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\nimport React, { Fragment } from \"react\"; // eslint-disable-line\r\nimport { connect } from \"react-redux\";\r\n\r\nimport * as style from \"./styles\";\r\n\r\nimport { navigateWithLoadScreen, routes } from \"../../../util/router\";\r\nimport { actions } from \"../../../redux/actions/viewImgActions\";\r\n\r\nconst LoadImage = props => {\r\n  if (props.match && props.match.params && props.match.params.code) {\r\n    const code = props.match.params.code;\r\n    // console.log(\"received code\", code);\r\n    props.rdxFetchImg(code);\r\n    navigateWithLoadScreen(routes.view);\r\n  }\r\n\r\n  return <div css={style.container} />;\r\n};\r\n\r\nexport default connect(\r\n  state => ({}),\r\n  dispatch => ({\r\n    rdxFetchImg: code => dispatch(actions.fetchImage(code))\r\n  })\r\n)(LoadImage);\r\n","import { theme, flex } from \"../../commonStyle\";\r\n\r\nconst container = {\r\n  //position: \"absolute\",\r\n  backgroundColor: theme.bg,\r\n  minHeight: \"100vh\",\r\n  width: \"100%\",\r\n  ...flex,\r\n  fontSize: \"calc(10px + 2vmin)\",\r\n  color: theme.fg,\r\n\r\n  i: {\r\n    color: \"green\",\r\n    marginBottom: \"15px\"\r\n  }\r\n};\r\n\r\nconst title = {\r\n  fontFamily: theme.titleFont,\r\n  fontSize: \"3rem\",\r\n  marginTop: \"20px\"\r\n};\r\n\r\nconst text = {\r\n  maxWith: \"420px\",\r\n  padding: \"10px\"\r\n};\r\n\r\nexport { container, title, text };\r\n","import TermsAndConditions from \"./TermsAndConditions\";\r\nexport default TermsAndConditions;\r\n","/** @jsx jsx */\r\nimport { jsx } from \"@emotion/core\";\r\n\r\n//import React from \"react\";\r\n\r\nimport * as style from \"./styles\";\r\nimport { routes, navigate } from \"../../../util/router\";\r\n\r\nconst TermsAndConditions = () => (\r\n  <div css={style.container}>\r\n    <div css={style.title}>SeeMeOnce</div>\r\n    <div css={style.text}>\r\n      <p>\r\n        This app allows you to anonymously share images in a simple and straight\r\n        forward way. Once an image is delivered it can only be seen for the\r\n        amount of time specified by you. It is deleted from our servers as soon\r\n        as it goes out to it's destination. It is destroyed immediately after\r\n        the allotted time expires on recipients device. SeeMeOnce is a free\r\n        service. As such it comes with no warranty of any kind.\r\n        <br />\r\n        Terms of use:\r\n      </p>\r\n      <ul>\r\n        <li>\r\n          We do not store any of your data beyond the time of delivering your\r\n          image to it's recipient. Image is deleted permanently from our server\r\n          when delivered.\r\n        </li>\r\n        <li>\r\n          You must not use this service to distribute illegal content of any\r\n          kind.\r\n        </li>\r\n        <li>\r\n          You are fully responsible for the images you share. SeeMeOnce carries\r\n          absolutely no responsibility for the content you share or the way in\r\n          which you use this service.\r\n        </li>\r\n        <li>Use this service responsibly.</li>\r\n      </ul>\r\n      <p>You can only use the app if you agree with the rules listed here.</p>\r\n    </div>\r\n    <div>\r\n      <i\r\n        className=\"fa fa-check fa-2x\"\r\n        aria-hidden=\"true\"\r\n        onClick={() => navigate(routes.home)}\r\n      />\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default TermsAndConditions;\r\n","import React, { Component } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport { init as routerInit } from \"./util/router\";\nimport routes from \"./config/routes\";\n\nimport HomeView from \"./components/Views/HomeView\";\nimport OptionsView from \"./components/Views/OptionsView\";\nimport CodeView from \"./components/Views/CodeView\";\nimport CameraView from \"./components/Views/CameraView\";\nimport ImageView from \"./components/Views/ImageView\";\nimport LoadingView from \"./components/Views/LoadingView\";\nimport LoadImage from \"./components/Views/LoadImage\";\nimport TermsAndConitions from \"./components/Views/TermsAndConitions\";\n\nclass App extends Component {\n  render() {\n    routerInit(this.props.history);\n    return (\n      <Switch>\n        <Route path={routes.loading} component={LoadingView} />\n        <Route path={routes.loadImage} component={LoadImage} />\n        <Route path={routes.options} component={OptionsView} />\n        <Route path={routes.codes} component={CodeView} />\n        <Route path={routes.camera} component={CameraView} />\n        <Route path={routes.view} component={ImageView} />\n        <Route path={routes.tac} component={TermsAndConitions} />\n        <Route path={routes.home} component={HomeView} />\n      </Switch>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {\r\n  IMG_UPDATE,\r\n  IMG_SET_VIEW_DURATION,\r\n  CLEAR_IMG\r\n} from \"../actions/imgActions\";\r\n\r\nconst imgReducer = (state = { img: null, viewDuration: 12 }, action) => {\r\n  if (!action || !action.type) return state;\r\n\r\n  let newState = {};\r\n\r\n  switch (action.type) {\r\n    case IMG_UPDATE:\r\n      newState = { ...state, img: action.img };\r\n      break;\r\n    case IMG_SET_VIEW_DURATION:\r\n      newState = { ...state, viewDuration: action.viewDuration };\r\n      break;\r\n    case CLEAR_IMG:\r\n      newState = { ...state, img: null };\r\n      break;\r\n    default:\r\n      newState = { ...state };\r\n      break;\r\n  }\r\n\r\n  return newState;\r\n};\r\n\r\nexport default imgReducer;\r\n","import { TAC_HIDE, TAC_SHOW } from \"../actions/tacActions\";\r\n\r\nconst imgReducer = (state = { visible: true }, action) => {\r\n  if (!action || !action.type) return state;\r\n\r\n  let newState = {};\r\n  if (window.isMobile) {\r\n    switch (action.type) {\r\n      case TAC_HIDE:\r\n        newState = { ...state, visible: false };\r\n        break;\r\n      case TAC_SHOW:\r\n        newState = { ...state, visible: true };\r\n        break;\r\n      default:\r\n        newState = { ...state };\r\n        break;\r\n    }\r\n  } else {\r\n    newState = state;\r\n  }\r\n\r\n  return newState;\r\n};\r\n\r\nexport default imgReducer;\r\n","import {\r\n  GET_CODE_START,\r\n  GET_CODE_COMPLETE,\r\n  GET_CODE_ERROR,\r\n  CLEAR_CODE\r\n} from \"../actions/codeActions\";\r\n\r\nconst codeReducer = (state = { code: null, isLoading: false }, action) => {\r\n  if (!action || !action.type) return state;\r\n\r\n  let newState = {};\r\n\r\n  switch (action.type) {\r\n    case GET_CODE_START:\r\n      newState = { ...state, code: null, isLoading: true };\r\n      break;\r\n    case GET_CODE_COMPLETE:\r\n      newState = { ...state, code: action.code, isLoading: false };\r\n      break;\r\n    case GET_CODE_ERROR:\r\n      newState = { ...state, codeError: action.msg, isLoading: false };\r\n      break;\r\n    case CLEAR_CODE:\r\n      newState = { ...state, code: null, isLoading: false };\r\n      break;\r\n    default:\r\n      newState = { ...state };\r\n      break;\r\n  }\r\n\r\n  return newState;\r\n};\r\n\r\nexport default codeReducer;\r\n","import { actionsTypes } from \"../actions/viewImgActions\";\r\n\r\nconst viewImgReducer = (\r\n  state = { img: null, viewTime: 0, initialViewTime: 0, isLoading: false },\r\n  action\r\n) => {\r\n  if (!action || !action.type) return state;\r\n\r\n  let newState = {};\r\n\r\n  switch (action.type) {\r\n    case actionsTypes.IMG_LOAD_START:\r\n      newState = { ...state, isLoading: true };\r\n      break;\r\n    case actionsTypes.IMG_LOAD_COMPLETE:\r\n      newState = {\r\n        ...state,\r\n        img: action.img,\r\n        viewTime: action.viewTime,\r\n        initialViewTime: action.viewTime,\r\n        isLoading: false\r\n      };\r\n      break;\r\n    case actionsTypes.IMG_LOAD_ERROR:\r\n      newState = { ...state, errorMsg: action.errorMsg, isLoading: false };\r\n      break;\r\n    case actionsTypes.CLEAR_LOADED_IMG:\r\n      newState = {\r\n        ...state,\r\n        img: null,\r\n        viewTime: 0,\r\n        initialViewTime: 0,\r\n        isLoading: false\r\n      };\r\n      break;\r\n    case actionsTypes.IMG_COUNT_DOWN:\r\n      newState = {\r\n        ...state,\r\n        viewTime: action.viewTime\r\n      };\r\n      break;\r\n    default:\r\n      newState = state;\r\n      break;\r\n  }\r\n\r\n  return newState;\r\n};\r\n\r\nexport default viewImgReducer;\r\n","import { combineReducers, createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport imgReducer from \"./reducers/imgReducer\";\r\nimport tacReducer from \"./reducers/tacReducer\";\r\nimport codeReducer from \"./reducers/codeReducer\";\r\nimport viewImgReducer from \"./reducers/viewImgReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  imgReducer,\r\n  tacReducer,\r\n  codeReducer,\r\n  viewImgReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  rootReducer,\r\n  /* preloadedState, */\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","const isMobile = () => {\r\n  var check = false;\r\n  /* eslint-disable */\r\n  (function(a) {\r\n    if (\r\n      /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(\r\n        a\r\n      ) ||\r\n      /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\r\n        a.substr(0, 4)\r\n      )\r\n    )\r\n      check = true;\r\n  })(navigator.userAgent || navigator.vendor || window.opera);\r\n  /* eslint-disable */\r\n  return check;\r\n};\r\n\r\nexport const isApple = () =>\r\n  navigator.vendor && navigator.vendor.indexOf(\"Apple\") > -1;\r\n\r\nexport default isMobile;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\n\nimport \"./index.css\";\nimport App from \"./App.jsx\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport store from \"./redux/store\";\nimport isMobile, { isApple } from \"./util/isMobile\";\n\nimport \"bootstrap/dist/css/bootstrap.css\";\n\nconst RootApp = () => (\n  <Provider store={store}>\n    <Router>\n      <Route path=\"/\" component={App} />\n    </Router>\n  </Provider>\n);\n\nconst rootElement = document.getElementById(\"root\");\n\n// detect if user is using a mobile browser.\nwindow.isMobile = isMobile();\nwindow.isApple = isApple();\n\nReactDOM.render(<RootApp />, rootElement);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}