(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{42:function(e,t,n){e.exports=n.p+"static/media/logo.e403987b.png"},45:function(e,t,n){e.exports=n.p+"static/media/dual-ring-spinner-0.5s-200px.438ede40.svg"},47:function(e,t,n){e.exports=n(85)},56:function(e,t,n){},62:function(e,t,n){},83:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(25),r=n.n(o),c=n(4),s=n(17),u=n(20),l=(n(56),n(5)),d=n(6),m=n(8),p=n(7),g=n(9),h={home:"/",view:"/view",options:"/options",camera:"/camera",share:"/share",loading:"/loading",codes:"/codes",loadImage:"/v/:code",tac:"/terms-and-conditions",withWildCard:function(e,t){var n=e.split(":");if(n.length>1)return n.map(function(e){return e.replace("/","")}).reduce(function(e,n){var a=e;return n in t&&(a="".concat(e).concat(t[n])),a},n[0])}},b={},f=function(e){return b.push(e)},v=function(e){b.push(h.loading,{next:e})},O=n(1),w=n(2),j="#282c34",x="white",y="#e93578",C="#e5e5e5",k="AguafinaScript",I={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"top"},S={padding:"5px",color:x,fontSize:"2rem"},T=Object(w.a)({},I,{justifyContent:"center",padding:"10px"}),E=Object(w.a)({},S,{marginBottom:"10px"}),R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:420,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:420;return new Promise(function(a,i){if(e&&e.length>2e3){var o=document.createElement("img");o.onload=function(){var e=document.createElement("canvas"),r=e.getContext("2d");r.imageSmoothingEnabled=!0,r.imageSmoothingQuality="high";var c=o.height,s=o.width;if(s>c?s>n&&(c*=n/s,s=n):c>t&&(s*=t/c,c=t),e.height=c,e.width=s,s>0&&c>0){r.drawImage(o,0,0,s,c);var u=e.toDataURL("image/jpeg");a(u)}else i("Failed to load image.")},o.onerror=function(){return i(o.error)},o.src=e}else i("Failed to load file OR img too small.")})},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:420,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:420;return new Promise(function(a,i){try{var o=new FileReader;o.onload=function(e){var o=e.target.result;R(o,t,n).then(function(e){return a(e)},function(e){return i(e)})},o.onerror=function(){return i(o.error)},o.readAsDataURL(e)}catch(r){i(r)}})},_=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t?90:-90,a=document.createElement("canvas");a.height=e.height,a.width=e.width;var i=a.getContext("2d");i.imageSmoothingEnabled=!0,i.imageSmoothingQuality="high",i.drawImage(e,0,0),i.clearRect(0,0,e.width,e.height),i.save(),a.width=e.height,a.height=e.width,i.translate(0,-e.height/2),i.rotate(n*Math.PI/180),t?i.drawImage(e,e.height/2,-e.height):i.drawImage(e,-e.width-e.height/2,0),i.restore(),e.src=a.toDataURL("image/png")},A=function(e){return{type:"IMG_UPDATE",img:e}},M=function(e){return e&&e.tacReducer&&e.tacReducer.visible},L={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"top"},N=Object(w.a)({backgroundColor:"#282c34",minHeight:"100vh",minWidth:"100vw",width:"100%",height:"100%"},L,{fontSize:"calc(10px + 2vmin)",color:"white"}),F={fontFamily:"AguafinaScript",fontSize:"3rem",marginTop:"20px"},z=Object(w.a)({position:"relative",bottom:"0px",width:"100%",height:"40px"},L,{justifyContent:"center",zIndex:10001,a:{color:"white",textDecoration:"none"}}),G=Object(w.a)({},L,{marginTop:"20px",width:"100%",overflowX:"hidden"}),P=n(42),V=n.n(P),W=Object(c.b)(function(e){return{showTac:M(e)}})(function(e){return Object(O.a)("div",{css:N},Object(O.a)("div",{css:F},"SeeMeOnce"),e.showLogo&&Object(O.a)("div",null,Object(O.a)("img",{src:V.a,alt:""})),Object(O.a)("div",{css:G},e.children),e.showTac&&Object(O.a)("div",{css:z,style:e.tacBottom&&{position:"absolute"}},Object(O.a)(s.b,{to:h.tac},"Terms & Conditions")))}),U=Object(w.a)({width:"100%"},I),H={input:{width:"300px",height:"46px",borderRadius:"8px",borderColor:y,color:y,textAlign:"center",fontSize:"1.8rem",boxSizing:"unset",padding:"4px","&::placeholder":{color:C},"&:focus":{outline:"none"}}},B=Object(w.a)({},S,{fontSize:"1.2rem",padding:"2px"}),Y=Object(c.b)(function(e){return{}},function(e){return{rdxTacShow:function(){return e({type:"TAC_SHOW"})},rdxTacHide:function(){return e({type:"TAC_HIDE"})}}})(function(e){var t=e.title,n=e.value,a=e.placeholder,i=e.size,o=e.inputStyle,r=e.onChange,c=e.onClick,s=e.getRef,u=e.inputProps,l=e.disableTacHidding,d=e.rdxTacShow,m=e.rdxTacHide;return Object(O.a)("div",{css:U},Object(O.a)("div",{css:"sm"===i?B:S},Object(O.a)("span",null,t)),Object(O.a)("div",{css:H},Object(O.a)("input",Object.assign({style:o,type:"text",placeholder:a},n&&{value:n},{onChange:function(e){return r?r(e.target.value):function(){return null}},onClick:c,onFocus:l?function(){return null}:m,onBlur:l?function(){return null}:d,ref:function(e){return s&&s(e)}},u))))}),J={backgroundColor:y,color:x,width:"304px",height:"50px",borderRadius:"8px",fontSize:"1.2rem",fontFamily:"AllertaStencil",borderStyle:"none","&:active":{border:"1px solid ".concat(x),borderRadius:"8px"},"&:focus":{border:"1px solid ".concat(x),borderRadius:"8px",outline:"none"}},q=function(e){var t=e.text,n=e.onClick;return Object(O.a)("button",{css:J,onClick:n},t)},X=n(44),Q=n.n(X),K=Object(w.a)({},I,{zIndex:"20",marginTop:"15px",color:x}),Z=(n(62),n(63),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(p.a)(t).call(this,e))).getCroppedImg=function(e,t,n){var a=document.createElement("canvas");return a.width=t.width,a.height=t.height,a.getContext("2d").drawImage(e,t.x,t.y,t.width,t.height,0,0,t.width,t.height),a.toDataURL("image/jpeg")},n.onRotate=function(){n.cropInfo.image&&_(n.cropInfo.image,!1)},n.state={crop:{aspect:1,x:20,y:10,height:50}},n.cropInfo={},n}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return Object(O.a)("div",null,Object(O.a)("div",{className:"img-resize-mask"}),",",Object(O.a)("div",{className:"img-resize-container"},Object(O.a)(Q.a,{src:this.props.dataUrl,crop:this.state.crop,keepSelection:!0,onChange:function(t){e.setState({crop:t})},onComplete:function(t,n){e.cropInfo=Object(w.a)({},e.cropInfo,{pixelCrop:n})},onImageLoaded:function(t,n){e.cropInfo={image:t,pixelCrop:n}}}),Object(O.a)("div",{css:K},Object(O.a)("i",{className:"fas fa-sync fa-2x",onClick:function(){return e.onRotate()}})),Object(O.a)("div",{css:K},Object(O.a)("div",null,Object(O.a)("button",{className:"btn btn-success btn-lg",onClick:function(){return e.props.onSave(e.getCroppedImg(e.cropInfo.image,e.cropInfo.pixelCrop))}},Object(O.a)("i",{className:"fas fa-plus fa-sm"}),"Save"),Object(O.a)("button",{className:"btn btn-danger btn-lg",onClick:this.props.onCancel},Object(O.a)("i",{className:"fas fa-times fa-sm"}),"Cancel")))))}}]),t}(a.Component)),$=function(){return Object(O.a)(a.Fragment,null,Object(O.a)("div",{css:T},"--OR--"),Object(O.a)(q,{text:"Share Image Annonimously",onClick:function(){return f(h.share)}}))},ee=function(e){var t=e.code;return Object(O.a)(a.Fragment,null,Object(O.a)("br",null),Object(O.a)(q,{text:"View Image",onClick:function(){return f(h.withWildCard(h.loadImage,{code:t}))}}))},te=function(e){var t=e.code,n=e.showViewBtn,a=e.onCodeChange;return Object(O.a)("div",null,Object(O.a)(Y,{title:"Have A View Code?",placeholder:"Enter Code Here",onChange:a}),n?Object(O.a)(ee,{code:t}):Object(O.a)($,null))},ne=function(e){var t=e.uploadInput,n=e.handleImage,a=e.askForImage;return Object(O.a)("div",{css:I},Object(O.a)("div",{css:E},"Choose How To Share"),Object(O.a)(q,{text:"Share From File",onClick:a}),Object(O.a)("div",{css:T},"--OR--"),Object(O.a)(q,{text:"Take A Photo",onClick:function(){return f(h.camera)}}),Object(O.a)("input",{type:"file",ref:t,onChange:n,accept:"image/*",hidden:!0}))},ae=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(p.a)(t).call(this,e))).onCodeChange=function(e){return n.setState({code:e,showViewBtn:!!e})},n.handleImage=function(e){if(e.target.files.length>0){var t=e.target.files[0];D(t).then(function(e){return n.setState({imageToCrop:e})})}},n.askForImage=function(){n.uploadInput.current.click()},n.handleCroppedImage=function(e){R(e,420,420).then(function(e){n.setState({imageToCrop:null},function(){n.props.rdxUpdateImg(e),f(h.options)})})},n.handleCropCancel=function(){window.location.reload(!0)},n.state={showViewBtn:!1,code:"",imageToCrop:null},n.uploadInput=i.a.createRef(),n.cropInfo={},n}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.showViewBtn,i=t.code,o=t.imageToCrop;return Object(O.a)(a.Fragment,null,o&&Object(O.a)(Z,{dataUrl:this.state.imageToCrop,onSave:function(t){return e.handleCroppedImage(t)},onCancel:function(){return e.handleCropCancel()}}),Object(O.a)(W,{showLogo:!0},Object(O.a)(u.c,null,Object(O.a)(u.a,{path:h.share,render:function(t){return Object(O.a)(ne,{uploadInput:e.uploadInput,handleImage:e.handleImage,askForImage:e.askForImage})}}),Object(O.a)(u.a,{exact:!0,path:h.home,render:function(t){return Object(O.a)(te,{showViewBtn:n,code:i,onCodeChange:e.onCodeChange})}}))))}}]),t}(a.Component),ie=Object(c.b)(function(e){return{}},function(e){return{rdxUpdateImg:function(t){return e(A(t))}}})(ae),oe={img:{border:"1px solid gray",borderRadius:"20px"}},re=Object(w.a)({},I,{justifyContent:"center",textAlign:"center",padding:"5px",color:x}),ce=Object(w.a)({},I,{width:"304px",padding:"5px",margin:"10px 0px"}),se=function(e){var t="".concat(e," sec");if(e>60){var n=e%60,a=Math.floor(e/60);t="".concat(a," min ").concat(n," sec")}return t},ue=function(e){return e&&e.imgReducer&&e.imgReducer.img},le=function(e){return e&&e.imgReducer&&e.imgReducer.viewDuration},de=function(e){return e&&e.imgReducer&&{Img:e.imgReducer.img,ViewDuration:e.imgReducer.viewDuration}},me=n(13),pe=n.n(me),ge=n(18),he=n(22),be=n.n(he),fe="https://localhost:5000/api",ve=("".concat("https://localhost:3000"),"".concat(fe),"".concat(fe,"/code"),"".concat(fe,"/img"),{isDebugMode:!1,useMockData:!1,baseUrlFE:"".concat("https://seemeonce.net"),baseUrlBE:"".concat("https://see-me-once.azurewebsites.net/api"),api:{code:{path:"".concat("https://see-me-once.azurewebsites.net/api","/ImagePush?code=IaS1Li5YcJP0TEwVuH7YMVVsIzZabevrNU1LtVMVeELUrCsCYMW8SQ=="),method:"POST"},img:{path:"".concat("https://see-me-once.azurewebsites.net/api","/ImagePull?code=DujTlQjiGXrSNvOpe7rF7AF/S8o5qS390hq5ZHbmzTJKalbl9dB21A=="),method:"GET"}}}),Oe=function e(t){ve.isDebugMode&&console.log("exception >> ",e)},we=function(e){ve.isDebugMode&&console.log("warning >> ",e)};be.a.interceptors.response.use(null,function(e){return e.response&&e.response.status>=400&&e.response.status<500||Oe(e),Promise.reject(e)});var je={get:be.a.get,post:be.a.post,put:be.a.put,delete:be.a.delete},xe=function(e,t){try{e&&t&&localStorage.setItem(e,JSON.stringify(t))}catch(n){console.warning("[browser-util.saveToLocalStorage]: ".concat(n))}},ye=function(e){var t=void 0;try{if(e){var n=localStorage.getItem(e);n&&(t=JSON.parse(n))}}catch(a){console.warning("[browser-util.loadFromLocalStorage]: ".concat(a))}return t},Ce=function(e){return new Promise(function(t,n){return setTimeout(function(){var n="FAS99XX000B".concat(Math.floor(1e4*Math.random())),a=ye("see_me_once")||{};a[n]=e,xe("see_me_once",a),t({data:{code:n}})},1e3)})},ke=function(){var e=Object(ge.a)(pe.a.mark(function e(t){var n,a;return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,a=null,!(t&&t.Img&&t.ViewDuration)){e.next=15;break}if(ve.useMockData){e.next=9;break}return e.next=6,je.post(ve.api.code.path,JSON.stringify(t),{headers:{"Content-Type":"application/json"}});case 6:a=e.sent,e.next=12;break;case 9:return e.next=11,Ce(t);case 11:a=e.sent;case 12:a&&a.data&&a.data.code&&(n=a.data.code),e.next=16;break;case 15:we("[codeService.getCode()]: invalid payload");case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ie=function(){return{type:"GET_CODE_START"}},Se=function(e){return{type:"GET_CODE_COMPLETE",code:e}},Te=function(e){return{type:"GET_CODE_ERROR",msg:e}},Ee=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).toSeconds=function(e){return 3*e},n.fromSeconds=function(e){return e/3},n.handleGetCode=function(){n.props.rdxGetCode(),v(h.codes)},n}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.rdxPhoto,a=t.rdxViewDuration,i=t.rdxSetViewDuration;return n||f(h.share),Object(O.a)("div",null,Object(O.a)(W,null,Object(O.a)("div",{css:oe},Object(O.a)("img",{src:n,height:"300",width:"300",alt:""})),Object(O.a)("div",{css:re},"How long will the image stay on the screen before being destroyed?"),Object(O.a)("div",{css:ce},Object(O.a)("input",{className:"custom-range ",type:"range",name:"duration",min:"1",max:"40",step:"1",value:this.fromSeconds(a),onChange:function(t){return i(e.toSeconds(t.target.value))}}),se(a)),Object(O.a)(q,{text:"Get Share Link",onClick:this.handleGetCode})))}}]),t}(a.PureComponent),Re=Object(c.b)(function(e){return{rdxPhoto:ue(e),rdxViewDuration:le(e)}},function(e){return{rdxSetViewDuration:function(t){return e({type:"IMG_SET_VIEW_DURATION",viewDuration:t})},rdxGetCode:function(t){return e(function(){var e=Object(ge.a)(pe.a.mark(function e(t,n){var a,i,o;return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(Ie()),a=n(),i=de(a),e.next=5,ke(i);case 5:o=e.sent,t(o?Se(o):Te("Failed to get Code!"));case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}())}}})(Ee),De=Object(w.a)({},I,{position:"relative",img:{border:"1px solid gray",borderRadius:"20px"}}),_e=(Object(w.a)({},I,{justifyContent:"center",textAlign:"center",padding:"5px",color:x}),Object(w.a)({},I,{width:"304px",padding:"5px",margin:"10px 0px"}),{minHeight:"36px",width:"100%",textAlign:"center",fontSize:"1rem",fontStyle:"italic",color:"orange",padding:"5px"}),Ae={position:"absolute",right:"15px",bottom:"10px",color:x,borderRadius:"30%",padding:"2px",paddingTop:"0px",textAlign:"center",backgroundColor:" rgba(0, 0, 0, 0.20)"},Me=function(){var e="getSelection"in window?window.getSelection():"selection"in document?document.selection:null;"removeAllRanges"in e?e.removeAllRanges():"empty"in e&&e.empty()},Le=function(e){return e&&e.codeReducer&&e.codeReducer.code},Ne=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).state={copied:""},n.copyToClipboard=function(e,t){e.select(),document.execCommand("copy"),Me(),n.setState({copied:"Your ".concat(t," was coppied to the clipboard!")})},n.inputStyle={fontSize:"1.2rem",fontStyle:"italic",fontWeight:"bold"},n}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.rdxPhoto,a=t.rdxCode,i=t.rdxViewDuration;n&&a||f(h.home);var o=this.state.copied,r="".concat(ve.baseUrlFE).concat(h.withWildCard(h.loadImage,{code:a}));return Object(O.a)("div",null,Object(O.a)(W,null,Object(O.a)("div",{css:De},Object(O.a)("div",{css:Ae},se(i)),Object(O.a)("img",{src:n,height:"300",width:"300",alt:""})),Object(O.a)(Y,{title:"Your Share Code",size:"sm",inputStyle:this.inputStyle,value:a,onClick:function(t){return e.copyToClipboard(e.codeRef,"Code")},getRef:function(t){return e.codeRef=t},disableTacHidding:!0}),Object(O.a)(Y,{title:"Your Share Link",size:"sm",inputStyle:this.inputStyle,value:r,onClick:function(t){return e.copyToClipboard(e.urlRef,"Share Link")},getRef:function(t){return e.urlRef=t},disableTacHidding:!0}),Object(O.a)("div",{css:_e},o),Object(O.a)(q,{text:"Share Another Image",onClick:function(){return f(h.share)}})))}}]),t}(a.PureComponent),Fe=Object(c.b)(function(e){return{rdxPhoto:ue(e),rdxCode:Le(e),rdxViewDuration:le(e)}},function(e){return{rdxClearImg:function(){return e({type:"CLEAR_IMG"})},rdxClearCode:function(){return e({type:"CLEAR_CODE"})}}})(Ne),ze=n(19),Ge=n.n(ze),Pe={color:"gray",textAlign:"center",marginBottom:"10px",span:{padding:"5px"}},Ve={color:"orange"},We=(n(82),n(83),function(e){var t=e.mode,n=e.onClick;return Object(O.a)("div",{css:Pe},Object(O.a)("span",{css:t===ze.FACING_MODES.USER&&Ve,onClick:function(){return n(ze.FACING_MODES.USER)}},"FRONT"),Object(O.a)("span",null,"|"),Object(O.a)("span",{css:t===ze.FACING_MODES.ENVIRONMENT&&Ve,onClick:function(){return n(ze.FACING_MODES.ENVIRONMENT)}},"BACK"))}),Ue=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={cameraOn:!0,cameraFacingMode:ze.FACING_MODES.ENVIRONMENT},n}return Object(g.a)(t,e),Object(d.a)(t,[{key:"onTakePhoto",value:function(e){var t=this;this.setState({cameraOn:!1},function(){return t.props.rdxUpdateImg(e)})}},{key:"onCameraError",value:function(e){Oe(e)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,n=t.cameraOn,i=t.cameraFacingMode,o=this.props.rdxImg;return Object(O.a)("div",{className:"oui-camera-container"},n?Object(O.a)(a.Fragment,null,(window.isMobile||window.isApple)&&Object(O.a)(We,{mode:i,onClick:function(t){return e.setState({cameraFacingMode:t})}}),Object(O.a)(Ge.a,{onTakePhoto:function(t){e.onTakePhoto(t)},onCameraError:function(t){e.onCameraError(t)},idealFacingMode:i,idealResolution:{width:420,height:420},imageType:ze.IMAGE_TYPES.JPG,imageCompression:.97,isMaxResolution:!1,isImageMirror:!1,isDisplayStartCameraError:!0,sizeFactor:1,onCameraStop:function(){}})):Object(O.a)("div",{className:"react-html5-camera-photo"},Object(O.a)("img",{src:o,alt:""}),Object(O.a)("div",{className:"oui-camera-preview-ctrls"},Object(O.a)("i",{className:"fas fa-4x fa-undo-alt",onClick:function(){return e.setState({cameraOn:!0})}}),Object(O.a)(s.b,{to:{pathname:h.options}},Object(O.a)("i",{className:"far fa-4x fa-check-circle"})))))}}]),t}(a.Component),He=Object(c.b)(function(e){return{rdxImg:ue(e)}},function(e){return{rdxUpdateImg:function(t){return e(A(t))}}})(Ue),Be={width:"100%",minWidth:"300px",maxWidth:"420px",minHeight:"300px",maxHeight:"420px",borderRadius:"10px",border:"1px solid #474747",marginBottom:"2px"},Ye={width:"100%",maxWidth:"420px"},Je={marginTop:"20px",textAlign:"center",fontSize:"2rem",color:"orange"},qe={position:"fixed",minHeight:"100vh",minWidth:"100vw",width:"100%",height:"100%",zIndex:1e4},Xe=function(e){return new Promise(function(t,n){var a=ye("see_me_once");if(a&&e in a){var i=a[e],o={data:{img:i.Img,viewDuration:i.ViewDuration}};setTimeout(function(){return t(o)},1e3),xe("see_me_once",a)}else n("Image Not Found!")})},Qe=function(){var e=Object(ge.a)(pe.a.mark(function e(t){var n,a;return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,!t){e.next=15;break}if(a=null,ve.useMockData){e.next=9;break}return e.next=6,je.get("".concat(ve.api.img.path,"&key=").concat(t));case 6:a=e.sent,e.next=12;break;case 9:return e.next=11,Xe(t);case 11:a=e.sent;case 12:a&&a.data&&a.data.img&&a.data.viewDuration&&(n={img:a.data.img,viewTime:a.data.viewDuration}),e.next=16;break;case 15:we("[imgService.getImgData()]: no code");case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ke=function(e){return{type:"IMG_LOAD_COMPLETE",isLoading:!1,img:e.img,viewTime:e.viewTime}},Ze=function(e){return{type:"IMG_LOAD_ERROR",isLoading:!1,errorMsg:e}},$e=function(e){return{type:"IMG_COUNT_DOWN",viewTime:e}},et="IMG_LOAD_START",tt="IMG_LOAD_COMPLETE",nt="IMG_LOAD_ERROR",at="IMG_COUNT_DOWN",it="CLEAR_LOADED_IMG",ot=function(e){return function(){var t=Object(ge.a)(pe.a.mark(function t(n){var a;return pe.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"IMG_LOAD_START",isLoading:!0}),t.prev=1,t.next=4,Qe(e);case 4:a=t.sent,n(a?Ke(a):Ze("Failed to fetch Image!")),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),n(Ze("Failed to fetch Image!")),console.log("[viewImgActions.fetchImage]:",t.t0);case 12:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()},rt=function(e){return function(t,n){var a=n();if(a.viewImgReducer){var i=a.viewImgReducer.viewTime,o=i-e;t(i>0?$e(o>0?o:0):{type:"CLEAR_LOADED_IMG"})}}},ct=function(e){if(e&&e.viewImgReducer){var t=e.viewImgReducer,n=t.initialViewTime>0?100*t.viewTime/t.initialViewTime:0;return{img:t.img,viewTime:t.viewTime,progress:n}}},st=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},ut=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).state={timer:null,windowWidth:st()>420?420:st()},n}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.rdxPayload,n=t.img,a=t.viewTime;if(!n||a<=0)f(h.home);else{this.setState({windowWidth:st()>420?420:st()});var i=setInterval(function(){e.props.rdxCountDown(1)},1e3);this.setState({timer:i})}}},{key:"render",value:function(){var e=this.props.rdxPayload,t=e.img,n=e.progress,i=e.viewTime;return(!t||i<=0)&&(clearInterval(this.state.timer),f(h.home)),Object(O.a)(a.Fragment,null,Object(O.a)("div",{css:qe}),Object(O.a)(W,{tacBottom:!0},Object(O.a)("div",{css:Be},Object(O.a)("img",{src:t,alt:"",width:this.state.windowWidth})),Object(O.a)("div",{css:Ye},Object(O.a)("div",{className:"progress"},Object(O.a)("div",{className:"progress-bar",style:{width:"".concat(n,"%")}})),Object(O.a)("div",{css:Je},se(i)))))}}]),t}(a.PureComponent),lt=Object(c.b)(function(e){return{rdxPayload:ct(e)}},function(e){return{rdxCountDown:function(t){return e(rt(t))}}})(ut),dt=Object(w.a)({},I,{justifyContent:"center",backgroundColor:j,height:"100vh",color:x,fontSize:"calc(16px + 2vmin)",fontFamily:"AllertaStencil"}),mt=n(45),pt=n.n(mt),gt=Object(c.b)(function(e){return{rdxIsLoading:(t=e,t&&(t.codeReducer&&t.codeReducer.isLoading||t.viewImgReducer&&t.viewImgReducer.isLoading))};var t})(function(e){if(!e.rdxIsLoading){var t=b&&b.location.state;t&&t.next?f(t.next):f(h.home)}return Object(O.a)("div",{css:dt},Object(O.a)("div",null,"Loading.."),Object(O.a)("div",null,Object(O.a)("img",{src:pt.a,alt:""})))}),ht=Object(w.a)({},I,{backgroundColor:j,height:"100vh",width:"100%"}),bt=Object(c.b)(function(e){return{}},function(e){return{rdxFetchImg:function(t){return e(ot(t))}}})(function(e){if(e.match&&e.match.params&&e.match.params.code){var t=e.match.params.code;e.rdxFetchImg(t),v(h.view)}return Object(O.a)("div",{css:ht})}),ft=Object(w.a)({backgroundColor:j,minHeight:"100vh",width:"100%"},I,{fontSize:"calc(10px + 2vmin)",color:x,i:{color:"green",marginBottom:"15px"}}),vt={fontFamily:k,fontSize:"3rem",marginTop:"20px"},Ot={maxWith:"420px",padding:"10px"},wt=function(){return Object(O.a)("div",{css:ft},Object(O.a)("div",{css:vt},"SeeMeOnce"),Object(O.a)("div",{css:Ot},Object(O.a)("p",null,"This app allows you to anonymously share images in a simple and straight forward way. Once an image is delivered it can only be seen for the amount of time specified by you. It is deleted from our servers as soon as it goes out to it's destination. It is destroyed immediately after the allotted time expires on recipients device. SeeMeOnce is a free service. As such it comes with no warranty of any kind.",Object(O.a)("br",null),"Terms of use:"),Object(O.a)("ul",null,Object(O.a)("li",null,"We do not store any of your data beyond the time of delivering your image to it's recipient. Image is deleted permanently from our server when delivered."),Object(O.a)("li",null,"You must not use this service to distribute illegal content of any kind."),Object(O.a)("li",null,"You are fully responsible for the images you share. SeeMeOnce carries absolutely no responsibility for the content you share or the way in which you use this service."),Object(O.a)("li",null,"Use this service responsibly.")),Object(O.a)("p",null,"You can only use the app if you agree with the rules listed here.")),Object(O.a)("div",null,Object(O.a)("i",{className:"fa fa-check fa-2x","aria-hidden":"true",onClick:function(){return f(h.home)}})))},jt=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e;return e=this.props.history,b=e,i.a.createElement(u.c,null,i.a.createElement(u.a,{path:h.loading,component:gt}),i.a.createElement(u.a,{path:h.loadImage,component:bt}),i.a.createElement(u.a,{path:h.options,component:Re}),i.a.createElement(u.a,{path:h.codes,component:Fe}),i.a.createElement(u.a,{path:h.camera,component:He}),i.a.createElement(u.a,{path:h.view,component:lt}),i.a.createElement(u.a,{path:h.tac,component:wt}),i.a.createElement(u.a,{path:h.home,component:ie}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xt=n(21),yt=n(46),Ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{img:null,viewDuration:12},t=arguments.length>1?arguments[1]:void 0;if(!t||!t.type)return e;var n={};switch(t.type){case"IMG_UPDATE":n=Object(w.a)({},e,{img:t.img});break;case"IMG_SET_VIEW_DURATION":n=Object(w.a)({},e,{viewDuration:t.viewDuration});break;case"CLEAR_IMG":n=Object(w.a)({},e,{img:null});break;default:n=Object(w.a)({},e)}return n},kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{visible:!0},t=arguments.length>1?arguments[1]:void 0;if(!t||!t.type)return e;var n={};if(window.isMobile)switch(t.type){case"TAC_HIDE":n=Object(w.a)({},e,{visible:!1});break;case"TAC_SHOW":n=Object(w.a)({},e,{visible:!0});break;default:n=Object(w.a)({},e)}else n=e;return n},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{code:null,isLoading:!1},t=arguments.length>1?arguments[1]:void 0;if(!t||!t.type)return e;var n={};switch(t.type){case"GET_CODE_START":n=Object(w.a)({},e,{code:null,isLoading:!0});break;case"GET_CODE_COMPLETE":n=Object(w.a)({},e,{code:t.code,isLoading:!1});break;case"GET_CODE_ERROR":n=Object(w.a)({},e,{codeError:t.msg,isLoading:!1});break;case"CLEAR_CODE":n=Object(w.a)({},e,{code:null,isLoading:!1});break;default:n=Object(w.a)({},e)}return n},St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{img:null,viewTime:0,initialViewTime:0,isLoading:!1},t=arguments.length>1?arguments[1]:void 0;if(!t||!t.type)return e;var n={};switch(t.type){case et:n=Object(w.a)({},e,{isLoading:!0});break;case tt:n=Object(w.a)({},e,{img:t.img,viewTime:t.viewTime,initialViewTime:t.viewTime,isLoading:!1});break;case nt:n=Object(w.a)({},e,{errorMsg:t.errorMsg,isLoading:!1});break;case it:n=Object(w.a)({},e,{img:null,viewTime:0,initialViewTime:0,isLoading:!1});break;case at:n=Object(w.a)({},e,{viewTime:t.viewTime});break;default:n=e}return n},Tt=Object(xt.c)({imgReducer:Ct,tacReducer:kt,codeReducer:It,viewImgReducer:St}),Et=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||xt.d,Rt=Object(xt.e)(Tt,Et(Object(xt.a)(yt.a))),Dt=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},_t=(n(84),document.getElementById("root"));window.isMobile=Dt(),window.isApple=navigator.vendor&&navigator.vendor.indexOf("Apple")>-1,r.a.render(i.a.createElement(function(){return i.a.createElement(c.a,{store:Rt},i.a.createElement(s.a,null,i.a.createElement(u.a,{path:"/",component:jt})))},null),_t),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[47,1,2]]]);
//# sourceMappingURL=main.65ae4456.chunk.js.map